(function(t){function e(e){for(var s,a,o=e[0],h=e[1],c=e[2],u=0,d=[];u<o.length;u++)a=o[u],n[a]&&d.push(n[a][0]),n[a]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,o=1;o<i.length;o++){var h=i[o];0!==n[h]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},r=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=h;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("64a9"),n=i.n(s);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Engine")],1)},r=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"engineHolder"}},[i("canvas",{style:t.style,attrs:{id:"drawingCanvas"}},[t._v("alternate content")]),i("div",{attrs:{id:"sceneHTML"}}),t._m(0)])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ldscreen",attrs:{id:"ldBg"}},[i("span",{attrs:{id:"loadingText"}},[t._v("Loading")]),i("div",{staticClass:"bgbar",attrs:{id:"progressBackground"}},[i("div",{staticClass:"pgbar",attrs:{id:"progressBar"}})]),i("span",{attrs:{id:"percentText"}},[t._v("Loading")])])}],h=i("bfb3"),c=i.n(h),l=i("7618"),u=i("e814"),d=i.n(u),g=(i("ac6a"),i("6b54"),i("96cf"),i("3b8d")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"userInterfaceModule"}})},p=[],_={name:"UserInterface",data:function(){return{}},mounted:function(){},methods:{createImage:function(t,e,i,s,n,r,a,o){var h=new createjs.Bitmap(t);stage.addChild(h),h.regX=e/2,h.regY=i/2;var c={object:h,width:e,height:i,x_lock:s,x_location:n,y_lock:r,y_location:a,type:o};return this.$emit("pushToEcs",c),h},createSprite:function(t,e,i,s,n,r,a,o){console.log("Spritesheet loading starting.");var h=new createjs.SpriteSheet(t),c=(h.on("error",function(t,e){console.log("'"+t.src+"' failed to load")}),h.on("complete",function(t){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(h));stage.addChild(c),c.regX=e/2,c.regY=i/2;var l={object:c,width:e,height:i,x_lock:s,x_location:n,y_lock:r,y_location:a,type:o};return this.$emit("pushToEcs",l),c},createLevelSprite:function(t,e,i,s,n,r,a,o){var h=new createjs.SpriteSheet(t),c=(h.on("error",function(t,e){console.log("'"+t.src+"' failed to load")}),h.on("complete",function(t){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(h));stage.addChild(c),c.regX=e/2,c.regY=i/2;var l={object:c,width:e,height:i,x_lock:s,x_location:n,y_lock:r,y_location:a,type:o};return this.$emit("pushToLcs",l),c},createButton:function(t,e,i,s,n,r,a,o,h,c){var l=new createjs.Bitmap(t);l.regX=i/2,l.regY=s/2;var u="#DAA520",d="24",g="Blackadder";"Login"!=e&&"Signup"!=e&&"Create"!=e&&"Cancel"!=e||(u="#646464"),"Select a level"==e&&(d="60",g="Oldstyle"),"1"!=e&&"2"!=e&&"3"!=e&&"4"!=e&&"5"!=e&&"6"!=e&&"7"!=e&&"8"!=e&&"9"!=e&&"10"!=e&&"11"!=e&&"12"!=e&&"13"!=e&&"14"!=e&&"15"!=e&&"16"!=e&&"17"!=e&&"18"!=e&&"19"!=e&&"20"!=e||(d="16",g="Oldstyle",u="#FFFFFF");var m=new createjs.Text(e,"normal "+d+"px "+g,u);m.textAlign="center",m.textBaseline="middle";var p=new createjs.Container;p.addChild(l,m),stage.addChild(p),p.on("click",c);var _={object:p,width:i,height:s,x_lock:n,x_location:r,y_lock:a,y_location:o,type:h};return this.$emit("pushToEcs",_),p},createText:function(t,e,i,s,n,r,a,o,h,c,l,u){var d=new createjs.Text(t,s+" "+i+" "+e,n);stage.addChild(d),d.regX=r/2,d.regY=a/2;var g={object:d,width:r,height:a,x_lock:o,x_location:h,y_lock:c,y_location:l,type:u};return this.$emit("pushToEcs",g),d},createLevelText:function(t,e,i,s,n,r,a,o,h,c,l,u){var d=new createjs.Text(t,s+" "+i+" "+e,n);stage.addChild(d),d.regX=r/2,d.regY=a/2;var g={object:d,width:r,height:a,x_lock:o,x_location:h,y_lock:c,y_location:l,type:u};return this.$emit("pushToLcs",g),d},createTextContainer:function(t,e,i,s,n,r,a,o,h,c,l,u,d,g){var m=new createjs.SpriteSheet(t),p=new createjs.Sprite(m);p.regX=a/2,p.regY=o/2;var _=new createjs.Text(e,n+" "+s+" "+i,r);_.textAlign="center",_.textBaseline="middle",_.regY=g/2;var b=new createjs.Container;b.addChild(p,_),stage.addChild(b);var f={object:b,width:a,height:o,x_lock:h,x_location:c,y_lock:l,y_location:u,type:d};return this.$emit("pushToEcs",f),_},createLevelTextContainer:function(t,e,i,s,n,r,a,o,h,c,l,u,d,g){var m=new createjs.SpriteSheet(t),p=new createjs.Sprite(m);p.regX=a/2,p.regY=o/2;var _=new createjs.Text(e,n+" "+s+" "+i,r);_.textAlign="center",_.textBaseline="middle",_.regY=g/2;var b=new createjs.Container;b.addChild(p,_),stage.addChild(b);var f={object:b,width:a,height:o,x_lock:h,x_location:c,y_lock:l,y_location:u,type:d};return lcs.push(f),_}}},b=_,f=i("2877"),v=Object(f["a"])(b,m,p,!1,null,"49696a24",null),y=v.exports,w=i("d225"),x=i("b0b4"),S=function(){function t(){Object(w["a"])(this,t),this.keys={},this.touch=!1,this.drag_up=!1,this.drag_down=!1,this.start_touch=0,this.end_touch=0}return Object(x["a"])(t,[{key:"keyDown",value:function(t){this.keys[t.keyCode]=!0}},{key:"keyUp",value:function(t){delete this.keys[t.keyCode]}},{key:"handleStart",value:function(t){t.preventDefault(),this.start_touch=t.changedTouches[0].screenY,console.log("start: "+this.start_touch),this.touch=!0}},{key:"handleEnd",value:function(t){t.preventDefault(),this.end_touch=t.changedTouches[0].screenY,console.log("end: "+this.end_touch),console.log("drag: "+(this.end_touch-this.start_touch)),this.end_touch-this.start_touch<-100&&(console.log(this.drag_up),this.drag_up=!0,console.log(this.drag_up)),this.start_touch=this.end_touch=0}}]),t}(),k=S,C=function(){function t(){Object(w["a"])(this,t),this.isMobile=!1}return Object(x["a"])(t,[{key:"orientationCheck",value:function(){window.innerHeight>window.innerWidth&&this.isMobile?this.added||(this.stage.addChild(this.landscape_warning),this.stage.addChild(this.phone_rotation),this.phone_rotation.gotoAndPlay(0),scene_html=document.getElementById("sceneHTML"),scene_html.hidden=!0,this.added=!0):this.added&&(this.stage.removeChild(this.landscape_warning),this.stage.removeChild(this.phone_rotation),scene_html=document.getElementById("sceneHTML"),scene_html.hidden=!1,this.added=!1)}},{key:"mobileCheck",value:function(){switch(!0){case/Android/i.test(navigator.userAgent):console.log("Android mobile device");break;case/webOS/i.test(navigator.userAgent):console.log("webOS mobile device");break;case/iPhone/i.test(navigator.userAgent):console.log("iPhone mobile device");break;case/iPad/i.test(navigator.userAgent):console.log("iPad mobile device");break;case/iPod/i.test(navigator.userAgent):console.log("iPod mobile device");break;case/BlackBerry/i.test(navigator.userAgent):console.log("BlackBerry mobile device");break;case/IEMobile/i.test(navigator.userAgent):console.log("Microsoft mobile device");break;case/Opera Mini/i.test(navigator.userAgent):console.log("Opera Mini mobile browser");break;default:console.log("Unknown device type");break}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}}]),t}(),E=C,j=["res/music/one-eyed_maestro.wav","res/music/achaidh_cheide.wav","res/music/cartoon_battle.wav","res/music/celtic_impulse.wav","res/music/clenched_teeth.wav","res/music/failing_defense.wav","res/music/fiddles_mcGinty.wav","res/music/galway.wav","res/music/hidden_past.wav","res/music/parisian.wav","res/music/bobbin_beeps.wav","res/music/whirlwind.wav","res/music/drums_in_the_deep.wav","res/music/fortress.wav"],M=["OneEyedMaestro","AchaidhCheide","CartoonBattle","CelticImpulse","ClenchedTeeth","FailingDefense","FiddlesMcGinty","Galway","HiddenPast","Parisian","BoppinBeeps","whirlwind","DrumsInTheDeep","Fortress"],B=function(){function t(){Object(w["a"])(this,t),this.muted=!1,this.playlist={size:0,sources:[],ids:[],current:0},this.sound_off=!0,this.volume=.5}return Object(x["a"])(t,[{key:"loadSound",value:function(){this.playlist.size=j.length,this.playlist.sources=j,this.playlist.ids=M,this.playlist.size=this.playlist.sources.length;for(var t=0;t<this.playlist.size;t++)createjs.Sound.registerSound(this.playlist.sources[t],this.playlist.ids[t])}},{key:"playSound",value:function(){this.sound_off?(this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.on("complete",function(){this.playlist.current++,this.playlist.current>=this.playlist.size&&(this.playlist.current=0),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume}),this.sound_off=!1):(this.current_song.paused=!this.current_song.paused,this.current_song.volume=this.volume)}},{key:"previousSound",value:function(){this.sound_off||(this.playlist.current--,this.playlist.current<0&&(this.playlist.current=this.playlist.size-1),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume,this.current_song.muted=this.muted)}},{key:"nextSound",value:function(){this.sound_off||(this.playlist.current++,this.playlist.current>=this.playlist.size&&(this.playlist.current=0),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume,this.current_song.muted=this.muted)}},{key:"setVolume",value:function(){this.volume=document.getElementById("volumeSlider").value,this.current_song.volume=this.volume,console.log(this.volume)}}]),t}(),T=B,I=function(){function t(){Object(w["a"])(this,t)}return Object(x["a"])(t,[{key:"scaleAssets",value:function(t,e,i,s,n,r){if(3==e){var a=(284*s).toString()+"px",o=(960*s).toString()+"px";console.log(a);var h=document.getElementById("equationBanner");h.style.bottom=a,h.style.right=o}console.log("ECS length: "+t.length);for(var c=0;c<t.length;c++){var l=1,u=r.canvas.width/2,d=r.canvas.height/2;switch(t[c].x_lock){case"left":u=0;break;case"center":u=r.canvas.width/2;break;case"right":u=r.canvas.width;break}switch(t[c].y_lock){case"top":d=0;break;case"center":d=r.canvas.height/2;break;case"bottom":d=r.canvas.height;break}switch(t[c].object.scaleX=n,t[c].object.scaleY=s,i&&(l=1.5),t[c].type){case"image":break;case"gui":break;case"smallgui":break}t[c].object.x=u+t[c].x_location*s*l,t[c].object.y=d+t[c].y_location*s*l}}},{key:"createImage",value:function(t,e,i,s,n,r,a,o,h,c){var l=new createjs.Bitmap(t);return c.addChild(l),l.regX=e/2,l.regY=i/2,this.createAndPushEntity(h,l,e,i,s,n,r,a,o),l}},{key:"createSprite",value:function(t,e,i,s,n,r,a,o,h,c){var l=new createjs.SpriteSheet(t),u=(l.on("error",function(t,e){console.log("'"+t.src+"' failed to load")}),l.on("complete",function(t){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(l));return c.addChild(u),u.regX=e/2,u.regY=i/2,this.createAndPushEntity(h,u,e,i,s,n,r,a,o),u}},{key:"createText",value:function(t,e,i,s,n,r,a,o,h,c,l,u,d,g){var m=new createjs.Text(t,s+" "+i+" "+e,n);return g.addChild(m),m.regX=r/2,m.regY=a/2,this.createAndPushEntity(d,m,r,a,o,h,c,l,u),m}},{key:"createTextContainer",value:function(t,e,i,s,n,r,a,o,h,c,l,u,d,g,m,p){var _=new createjs.SpriteSheet(t),b=(_.on("error",function(t,e){console.log("'"+t.src+"' failed to load")}),_.on("complete",function(t){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(_));b.regX=a/2,b.regY=o/2;var f=new createjs.Text(e,n+" "+s+" "+i,r);f.textAlign="center",f.textBaseline="middle",f.regY=g/2;var v=new createjs.Container;return v.addChild(b,f),p.addChild(v),this.createAndPushEntity(m,v,a,o,h,c,l,u,d),f}},{key:"createButton",value:function(t,e,i,s,n,r,a,o,h,c,l,u){var d=new createjs.Bitmap(t);d.regX=i/2,d.regY=s/2;var g="#DAA520",m="24",p="Blackadder";"Login"!=e&&"Signup"!=e&&"Create"!=e&&"Cancel"!=e||(g="#646464"),"Select a level"==e&&(m="60",p="Oldstyle"),"1"!=e&&"2"!=e&&"3"!=e&&"4"!=e&&"5"!=e&&"6"!=e&&"7"!=e&&"8"!=e&&"9"!=e&&"10"!=e&&"11"!=e&&"12"!=e&&"13"!=e&&"14"!=e&&"15"!=e&&"16"!=e&&"17"!=e&&"18"!=e&&"19"!=e&&"20"!=e||(m="24",p="Oldstyle",g="#FFFFFF");var _=new createjs.Text(e,"normal "+m+"px "+p,g);_.textAlign="center",_.textBaseline="middle";var b=new createjs.Container;return b.addChild(d,_),u.addChild(b),b.on("click",c),this.createAndPushEntity(l,b,i,s,n,r,a,o,h),b}},{key:"createAndPushEntity",value:function(t,e,i,s,n,r,a,o,h){var c={object:e,width:i,height:s,x_lock:n,x_location:r,y_lock:a,y_location:o,type:h};t.push(c)}}]),t}(),Y=I,X=i("cebc"),A=i("795b"),F=i.n(A),P=i("bc3a"),N=i.n(P),L="/api/stats/",O=function(){function t(){Object(w["a"])(this,t)}return Object(x["a"])(t,null,[{key:"getStats",value:function(){return new F.a(function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e,i){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get(L);case 3:s=t.sent,n=s.data,e(n.map(function(t){return Object(X["a"])({},t,{createdAt:new Date(t.createdAt)})})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),i(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,i){return t.apply(this,arguments)}}())}},{key:"findUserStats",value:function(t){return N.a.post(L+"find",{uname:t})}},{key:"updateUserStats",value:function(t){return N.a.post(L+"update",t)}}]),t}(),H=O,U="/api/login/",D=function(){function t(){Object(w["a"])(this,t)}return Object(x["a"])(t,null,[{key:"getUsers",value:function(){return new F.a(function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e,i){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get(U);case 3:s=t.sent,n=s.data,e(n.map(function(t){return Object(X["a"])({},t,{createdAt:new Date(t.createdAt)})})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),i(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,i){return t.apply(this,arguments)}}())}},{key:"findUserAccount",value:function(t){return N.a.post(U+"find",{uname:t})}},{key:"registerUser",value:function(t,e){N.a.post(U+"register",t).then(function(t){"Success"==t.data.result&&(e.authenticated=!0,e.username=t.data.user,e.firstname=t.data.first,e.lastname=t.data.last)}).catch(function(t){console.log(t)})}},{key:"loginUser",value:function(t,e){N.a.post(U+"login",t).then(function(t){"Success"==t.data.result&&(e.authenticated=!0,e.username=t.data.user,e.firstname=t.data.first,e.lastname=t.data.last)}).catch(function(t){console.log(t)})}},{key:"logoutUser",value:function(){return N.a.get(U+"logout")}}]),t}(),R=D,$=[{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Login didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Signup didn't load"},{color:"#8ac5dc",bg_img:"",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#000000",bg_img:"res/numberline.png",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Stats didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"How To Play didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Settings didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Account didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/map.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Hint didn't load"}],z=[{x:-90,y:72},{x:-288,y:0},{x:-600,y:192},{x:-186,y:216},{x:-480,y:-108},{x:-474,y:-186},{x:-354,y:-138},{x:-90,y:-78},{x:534,y:-222},{x:150,y:102},{x:318,y:54},{x:546,y:150},{x:-186,y:-198},{x:-414,y:150},{x:234,y:-78},{x:354,y:-186},{x:486,y:-30},{x:-618,y:102},{x:42,y:-162},{x:-426,y:-6}],q=[{number:1,color:"#c9e6ff",hint:"If the student got the one whole number hit, and got the high, and the low, prompt them to think about money. For example, if they tried 8 × 7 = 56 and also tried 8 × 6 = 48 and 8 × 8 = 64, prompt them to try a value between 6 and 7 or between 7 and 8. Is there an amount of money between $6 and $7 or between $7 and $8? Try that value next!"},{number:2,color:"#c9f9ff",hint:"If the student got the whole number high and the low right above and below the target range, prompt them to think about money. For example, if they tried 7 × 7 = 49 and also tried 7 × 8 = 56, prompt them to try a value between 7 and 8. Think about money — is there an amount of money between $7 and $8? Try that value next!"},{number:3,color:"#3b0a0a",hint:"No hint for this level yet"},{number:4,color:"#c2ffe6",hint:"No hint for this level yet"},{number:5,color:"#b3b3b3",hint:"No hint for this level yet"},{number:6,color:"#effffe",hint:"No hint for this level yet"},{number:7,color:"#010027",hint:"No hint for this level yet"},{number:8,color:"#2f3b25",hint:"No hint for this level yet"},{number:9,color:"#dbf8ff",hint:"No hint for this level yet"},{number:10,color:"#3f2900",hint:"No hint for this level yet"},{number:11,color:"#292c2b",hint:"No hint for this level yet"},{number:12,color:"#231e25",hint:"No hint for this level yet"},{number:13,color:"#b6c1ff",hint:"No hint for this level yet"},{number:14,color:"#00373d",hint:"No hint for this level yet"},{number:15,color:"#3b0a30",hint:"No hint for this level yet"},{number:16,color:"#ccf1ff",hint:"No hint for this level yet"},{number:17,color:"#5d5661",hint:"No hint for this level yet"},{number:18,color:"#7ed0ff",hint:"No hint for this level yet"},{number:19,color:"#556968",hint:"No hint for this level yet"},{number:20,color:"#56727d",hint:"No hint for this level yet"}],G={name:"Engine",components:{UserInterface:y},data:function(){return{error:"",text:"",user:{authenticated:!1,firstname:"Place",lastname:"Holder",username:"CpnPlchlder",hits:101010101,highs:101010101,lows:101010101},style:{background:"#aaa"}}},created:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getStats();case 3:return this.stats=t.sent,console.log(this.stats),t.next=7,R.getUsers();case 7:this.users=t.sent,console.log(this.users),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 15:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.input=new k,this.mobile=new E,this.music=new T,this.assets=new Y,window.addEventListener("resize",this.resize,!1);var t=document.getElementById("drawingCanvas");t.addEventListener("touchstart",this.input.handleStart.bind(this.input),!1),t.addEventListener("touchend",this.input.handleEnd.bind(this.input),!1),console.log("initialized."),this.ecs=[],this.lcs=[],this.gcs=[],this.frame_counter=0,this.waiting_hit=!1,this.waiting_miss=!1,this.hide_knight=!1,this.hide_archer1=!1,this.hide_archer2=!1,this.hide_archer3=!1,this.hide_archer4=!1,this.entry_is_correct,this.hit=!1,this.miss_upper=!1,this.miss_lower=!1,this.upper=101010101,this.lower=101010101,this.generated=!1,this.fired=!1,this.fire_counter=0,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0,this.h_counter=0,this.u_counter=0,this.l_counter=0,this.reload=!1,this.reload_counter=0,this.projectile_speed=57,this.projectile_x_speed=0,this.boss_fight=!1,this.play_tutorial=!0,this.storage=0,this.factor=0,this.multiple=0,this.multiplier=0,this.digit=2,this.last_digit=0,this.adder=1,this.multiplicand=0,this.sign=" x ",this.equal=" = ",this.solution=0,this.history_list=[],this.valid=!0,this.delayRe=(new createjs.PlayPropsConfig).set({delay:250}),this.delayIn=(new createjs.PlayPropsConfig).set({delay:500}),this.delayOut=(new createjs.PlayPropsConfig).set({delay:750}),this.delayWin=(new createjs.PlayPropsConfig).set({delay:2e3}),this.max_scale_Y=1440,this.max_scale_X=1920,this.scene_scale_X=1,this.scene_scale_Y=1,this.scene_margin_X=0,this.added=!1,this.current_scene=0,this.last_scene=0,this.num_scenes=10,this.scenes=[{custom:function(){progressBar.hidden=!0,progressBackground.hidden=!0,ldBg.hidden=!0,createjs.Sound.registerSound("res/sound_effects/menu.wav","menu"),createjs.Sound.registerSound("res/sound_effects/select.wav","select"),createjs.Sound.registerSound("res/sound_effects/sword.wav","sword");var t=document.createTextNode("Username"),e=document.createElement("input");e.id="usernameInput",e.setAttribute("type","text"),e.setAttribute("name","uname");var i=document.createElement("div");i.className="login",i.appendChild(t),i.appendChild(document.createElement("br")),i.appendChild(e);var s=document.createTextNode("Password"),n=document.createElement("input");n.id="passwordInput",n.setAttribute("type","password"),n.setAttribute("name","pass");var r=document.createElement("div");r.className="login",r.appendChild(s),r.appendChild(document.createElement("br")),r.appendChild(n);var a=document.createTextNode(""),o=document.createElement("div");o.id="errorText",o.appendChild(a);var h=document.createElement("form");h.id="loginForm",h.className="scrollMenu",h.appendChild(i),h.appendChild(document.createElement("br")),h.appendChild(r),h.appendChild(document.createElement("br")),h.appendChild(o);var c=document.getElementById("sceneHTML");c.appendChild(h)}.bind(this)},{custom:function(){var t=document.createTextNode("Firstname:"),e=document.createElement("input");e.id="firstnameInput",e.setAttribute("type","text"),e.setAttribute("name","fname");var i=document.createElement("div");i.className="signup",i.appendChild(t),i.appendChild(e);var s=document.createTextNode("Lastname:"),n=document.createElement("input");n.id="lastnameInput",n.setAttribute("type","text"),n.setAttribute("name","lname");var r=document.createElement("div");r.className="signup",r.appendChild(s),r.appendChild(n);var a=document.createElement("br"),o=document.createTextNode("Username:"),h=document.createElement("input");h.id="usernameInput",h.setAttribute("type","text"),h.setAttribute("name","uname");var c=document.createElement("div");c.className="signup",c.appendChild(o),c.appendChild(h);var l=document.createElement("br"),u=document.createTextNode("Password:"),d=document.createElement("input");d.id="passwordInput",d.setAttribute("type","password"),d.setAttribute("name","pass");var g=document.createElement("div");g.className="signup",g.appendChild(u),g.appendChild(d);var m=document.createTextNode("Confirm:"),p=document.createElement("input");p.id="confirmInput",p.setAttribute("type","password"),p.setAttribute("name","confirm");var _=document.createElement("div");_.className="signup",_.appendChild(m),_.appendChild(p);var b=document.createElement("br"),f=document.createTextNode(""),v=document.createElement("div");v.id="errorText",v.appendChild(f);var y=document.createElement("form");y.id="signupForm",y.className="scrollMenu",y.appendChild(i),y.appendChild(r),y.appendChild(a),y.appendChild(c),y.appendChild(l),y.appendChild(g),y.appendChild(_),y.appendChild(b),y.appendChild(v);var w=document.getElementById("sceneHTML");w.appendChild(y)}.bind(this)},{custom:function(){}.bind(this)},{custom:function(){var t=document.createElement("div");t.id="multiplicandText";var e=document.createTextNode(this.multiplicand);t.appendChild(e);var i,s=document.createTextNode(this.sign);if(this.mobile.isMobile){i=document.createElement("div"),i.id="entryDisplay";var n=document.createElement("span");n.id="hundredsPlace";var r=document.createTextNode("0");n.appendChild(r);var a=document.createElement("span");a.id="tensPlace";var o=document.createTextNode("0");a.appendChild(o);var h=document.createElement("span");h.id="onesPlace";var c=document.createTextNode("0");h.appendChild(c),i.appendChild(n),i.appendChild(a),i.appendChild(h)}else i=document.createElement("input"),i.id="entryInput",i.setAttribute("type","number"),i.setAttribute("placeholder","###"),i.setAttribute("value",""),i.setAttribute("maxlength","3"),i.setAttribute("size","4"),i.setAttribute("min","-999"),i.setAttribute("max","999"),i.setAttribute("name","entry"),i.addEventListener("keypress",function(t){13==t.keyCode&&t.preventDefault()});var l=document.createTextNode(this.equal),u=document.createElement("div");u.id="solutionText";var d=document.createTextNode(this.solution);u.appendChild(d);var g=document.createElement("div");g.className="login",g.appendChild(t),g.appendChild(s),g.appendChild(i),g.appendChild(l),g.appendChild(u);var m=document.createTextNode(""),p=document.createElement("button"),_=document.createElement("div");for(var b in p.className="dropbtn",p.addEventListener("click",this.myFunction),_.className="dropdown-content",_.id="myDropdown",p.appendChild(m),this.history_list){var f=document.createTextNode(this.history_list[b]),v=document.createElement("br");_.appendChild(f),_.appendChild(v)}var y=document.createElement("div");y.className="dropdown",y.appendChild(p),y.appendChild(_);var w=document.createElement("div");if(w.className="login",w.appendChild(y),this.play_tutorial){var x=document.createTextNode("Tutorial"),S=document.createElement("br"),k=document.createElement("span");k.className="tutorial",k.id="tutorialText";var C=document.createTextNode("The tutorial is broken");k.appendChild(C);var E=document.createElement("div");E.className="tutorial_title",E.id="tutorialDiv",E.appendChild(x),E.appendChild(S),E.appendChild(k)}var j=document.createElement("form");j.id="equationBanner",j.appendChild(g);var M=document.createElement("form");M.id="historyBanner",M.appendChild(w);var B=document.getElementById("sceneHTML");B.appendChild(j),B.appendChild(M),this.play_tutorial&&B.appendChild(E),this.createLevel(),this.mobile.isMobile||(document.getElementById("entryInput").value=0),document.getElementById("myDropdown").classList.toggle("show")}.bind(this)},{custom:function(){}.bind(this)},{custom:function(){}.bind(this)},{custom:function(){var t=document.createTextNode("Volume:"),e=document.createElement("input");e.id="volumeSlider",e.setAttribute("type","range"),e.setAttribute("name","volume"),e.setAttribute("min","0"),e.setAttribute("max","1"),e.setAttribute("step","0.1"),e.setAttribute("value","0.5"),e.setAttribute(oninput,"SetVolume(this.value)"),e.setAttribute(onchange,"SetVolume(this.value)"),e.addEventListener("change",this.setVolume),e.addEventListener("input",this.setVolume);var i=document.createElement("div");i.className="login",i.appendChild(t),i.appendChild(e);var s=document.createTextNode("Time:"),n=document.createElement("input");n.id="bossValue",n.setAttribute("type","checkbox"),n.setAttribute("name","time"),this.boss_fight?n.checked=!0:n.checked=!1,n.addEventListener("change",this.setBoss);var r=document.createElement("div");r.className="login",r.appendChild(s),r.appendChild(n);var a=document.createTextNode("Tutorial:"),o=document.createElement("input");o.id="tutorialValue",o.setAttribute("type","checkbox"),o.setAttribute("name","tutorial"),this.play_tutorial?o.checked=!0:o.checked=!1,o.addEventListener("change",this.setTutorial);var h=document.createElement("div");h.className="login",h.appendChild(a),h.appendChild(o);var c=document.createElement("form");c.id="settingsForm",c.className="scrollMenu",c.appendChild(i),c.appendChild(r),c.appendChild(h);var l=document.getElementById("sceneHTML");l.appendChild(c)}.bind(this)},{custom:function(){}.bind(this)},{custom:function(){}.bind(this)},{custom:function(){}.bind(this)}],this.buttonX=216,this.buttonY=72,this.backgroundX=1920,this.backgroundY=768,this.indicators=[],this.indicator_counter=0,this.num_levels=20,this.current_level=1,this.levels=[{math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.lower=this.multiple*this.multiplicand-Math.floor(this.multiplicand/2),this.upper=this.multiple*this.multiplicand+Math.floor(this.multiplicand/2)}.bind(this),open:function(){this.indicatorFunction(1)}},{math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.lower=this.multiple*this.multiplicand+1,this.upper=this.multiple*(this.multiplicand+1)-1}.bind(this),open:function(){this.indicatorFunction(2)}},{math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.factor=.1*this.multiplicand,this.lower=Math.floor(this.factor),this.upper=Math.ceil(this.factor),this.lower==this.upper&&this.upper++}.bind(this),open:function(){this.indicatorFunction(3)}},{math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.lower=0,this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(4)}},{math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.storage=this.multiplicand*this.multiple*10,this.lower=this.storage-10,this.upper=this.storage+10}.bind(this),open:function(){this.indicatorFunction(5)}},{math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=100*this.multiplicand,this.lower=this.multiple-Math.floor(this.multiplicand/2),this.upper=this.multiple+Math.floor(this.multiplicand/2)}.bind(this),open:function(){this.indicatorFunction(6)}},{math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.lower=-Math.abs(Math.floor(7*Math.random())+2),this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(7)}},{math:function(){this.multiplicand=Math.round(90*Math.random())+10,this.lower=Math.round(90*Math.random()+110)/10,this.lower%1==0&&(this.lower+=.7),this.upper=Math.round(this.lower*this.lower/8*10+this.lower/2)/10,this.upper%1==0&&(this.upper+=.4)}.bind(this),open:function(){this.indicatorFunction(8)}},{math:function(){this.multiplicand=Math.floor(900*Math.random()+100),this.lower=0,this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(9)}},{math:function(){this.multiplicand=Math.floor(990*Math.random()+10)/1e3,this.lower=1e3*this.multiplicand,this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(10)}},{math:function(){this.multiplicand=Math.floor(90*Math.random()*10+10)/10,this.lower=1e3*this.multiplicand,this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(11)}},{math:function(){this.multiplicand=Math.floor(1e7*Math.random()),this.lower=Math.floor(1e-4*this.multiplicand)-(Math.floor(50*Math.random())+10),this.upper=Math.floor(1e-4*this.multiplicand)+(Math.floor(50*Math.random())+10)}.bind(this),open:function(){this.indicatorFunction(12)}},{math:function(){this.multiplicand=Math.floor(100*Math.random()+100),this.lower=Math.floor(this.multiplicand/2)-4,this.upper=Math.floor(this.multiplicand/2)+4}.bind(this),open:function(){this.indicatorFunction(13)}},{math:function(){this.multiplicand=Math.floor(90*Math.random()+9)/10,this.lower=Math.floor(900*Math.random()+100),this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(14)}},{math:function(){this.multiplicand=-Math.abs(Math.floor(7*Math.random())+2),this.lower=this.multiplicand*this.multiplicand,this.upper=this.lower+(Math.floor(7*Math.random())+2)}.bind(this),open:function(){this.indicatorFunction(15)}},{math:function(){this.multiplicand=Math.floor(90*Math.random()+9),this.lower=-Math.abs(Math.floor(84*Math.random())+15),this.upper=this.lower+5}.bind(this),open:function(){this.indicatorFunction(16)}},{math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random())+10),this.lower=-Math.abs(Math.floor(10*Math.random())+10),this.upper=-Math.abs(Math.floor(10*Math.random()))}.bind(this),open:function(){this.indicatorFunction(17)}},{math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random()*10+10)/10),this.lower=Math.floor(10*Math.random()),this.upper=Math.floor(10*Math.random()+10)}.bind(this),open:function(){this.indicatorFunction(18)}},{math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random()*10+10)/10),this.lower=Math.floor(90*Math.random()+9)/100,this.upper=Math.floor(100*(this.lower+.01))/100}.bind(this),open:function(){this.indicatorFunction(19)}},{math:function(){this.multiplicand=Math.floor(900*Math.random())+100,this.lower=-Math.abs((Math.floor(1e4*Math.random())+5e3)/1e3),this.upper=this.lower+.01}.bind(this),open:function(){this.indicatorFunction(20)}}],this.number_spacing=10,this.number_spacer=25,this.structureX=1920,this.structureY=1440,this.phone_rotationS={images:["res/phone-rotation.png"],frames:{width:288,height:288,count:2,regX:0,regY:0,spacing:0,margin:0},framerate:2},this.stage=new createjs.Stage("drawingCanvas"),createjs.Touch.enable(this.stage),this.bg=new createjs.Shape,this.bg_color="#333333",this.stage.addChild(this.bg),this.music.loadSound(),console.log(this.music.playlist),this.createScene(),this.landscape_warning=new createjs.Shape,this.phone_rotation=this.assets.createSprite(this.phone_rotationS,288,288,"center",0,"center",0,"image",this.ecs,this.stage),this.stage.removeChild(this.phone_rotation),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",this.tick),document.onkeydown=this.input.keyDown.bind(this.input),document.onkeyup=this.input.keyUp.bind(this.input),this.resize()},methods:{createUser:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.registerUser(e,this.user);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 9:return t.prev=9,t.next=12,H.findUserStats(e.uname);case 12:i=t.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,t.next=23;break;case 19:t.prev=19,t.t1=t["catch"](9),this.error=t.t1.message,console.log(this.error);case 23:case"end":return t.stop()}},t,this,[[0,5],[9,19]])}));function e(e){return t.apply(this,arguments)}return e}(),getUserData:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.findUserAccount(e);case 3:i=t.sent,console.log(i.data),this.user.username=i.data.uname,this.user.firstname=i.data.fname,this.user.lastname=i.data.lname,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 14:return t.prev=14,t.next=17,H.findUserStats(e);case 17:s=t.sent,console.log(s.data),this.user.hits=s.data.hits,this.user.highs=s.data.highs,this.user.lows=s.data.lows,t.next=28;break;case 24:t.prev=24,t.t1=t["catch"](14),this.error=t.t1.message,console.log(this.error);case 28:case"end":return t.stop()}},t,this,[[0,10],[14,24]])}));function e(e){return t.apply(this,arguments)}return e}(),verifyUser:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.loginUser(e,this.user);case 3:console.log(this.user.authenticated),console.log("User: "+this.user.username),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 11:return t.prev=11,t.next=14,H.findUserStats(e.uname);case 14:i=t.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,t.next=25;break;case 21:t.prev=21,t.t1=t["catch"](11),this.error=t.t1.message,console.log(this.error);case 25:return t.prev=25,t.next=28,R.getUsers();case 28:this.posts=t.sent,t.next=35;break;case 31:t.prev=31,t.t2=t["catch"](25),this.error=t.t2.message,console.log(this.error);case 35:case"end":return t.stop()}},t,this,[[0,7],[11,21],[25,31]])}));function e(e){return t.apply(this,arguments)}return e}(),updateStats:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.updateUserStats(e);case 3:i=t.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(e){return t.apply(this,arguments)}return e}(),signoutUser:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.logoutUser();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),this.error=t.t0.message,console.log(this.error);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));function e(){return t.apply(this,arguments)}return e}(),resize:function(){this.mobile.mobileCheck.bind(this.mobile),this.mobile.orientationCheck.bind(this.mobile),this.stage.canvas.width=window.innerWidth,this.stage.canvas.height=window.innerHeight,window.innerWidth<600||window.innerWidth,this.bg.graphics.clear(),this.bg.graphics.beginFill(this.bg_color).drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),this.scene_scale_X=this.stage.canvas.width/this.max_scale_X,this.scene_scale_Y=this.stage.canvas.width/this.max_scale_X,this.scene_margin_X=(this.stage.canvas.width-this.max_scale_X)/2,console.log(this.scene_scale_X),console.log(this.scene_scale_Y),this.landscape_warning.graphics.clear(),this.landscape_warning.graphics.beginFill("#000000").drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),3==this.current_scene&&this.assets.scaleAssets(this.lcs,this.current_scene,this.mobile.isMobile,this.scene_scale_Y,this.scene_scale_X,this.stage),this.assets.scaleAssets(this.ecs,this.current_scene,this.mobile.isMobile,this.scene_scale_Y,this.scene_scale_X,this.stage),this.stage.update()},scale_to_canvas:function(t,e,i,s,n,r){var a=stage.canvas.width/2,o=stage.canvas.height/2;if(t.scaleX=scene_scale_X,t.scaleY=scene_scale_Y,mobile)switch(r){case"image":break;case"gui":t.scale=1;break;case"smallgui":t.scale=.5;break}switch(e){case"left":a=0;break;case"center":a=stage.canvas.width/2;break;case"right":a=stage.canvas.width;break}switch(s){case"top":o=0;break;case"center":o=stage.canvas.height/2;break;case"bottom":o=stage.canvas.height;break}t.x=a+i,t.y=o+n},tick:function(t){if(0==this.current_scene&&this.user.authenticated&&this.changeScene(2),3==this.current_scene){var e=(284*this.scene_scale_Y).toString()+"px",i=(960*this.scene_scale_Y).toString()+"px",s=document.getElementById("equationBanner");s.style.bottom=e,s.style.right=i,document.getElementById("entryInput").focus(),e=(310*this.scene_scale_Y).toString()+"px",i=(678*this.scene_scale_X).toString()+"px";var n=document.getElementById("historyBanner");n.style.bottom=e,n.style.right=i}3==this.current_scene&&0==this.pause_menu.visible&&(this.generated||(this.levels[this.current_level-1].math(),this.clearMultiplicandBanner(),this.remakeMultiplierBanner(),this.remakeRangeBanner(),this.generated=!0),(this.input.keys[13]||this.input.drag_up)&&this.catapult.paused&&(console.log("Enter Pressed"),this.runInput()),this.mobile.isMobile&&this.checkSelectedDigit(),this.updateSinglePlayAnimations(),this.runHitAnimations(),this.runMissAnimations(),this.checkTutorial(),this.hit_counter>=3&&this.miss_upper_counter>=1&&this.miss_lower_counter>=1&&0==this.reload&&this.createVictoryBanner(),this.hideBadGuys(),this.runCatapultAnimation(),this.reloadCatapult()),this.stage.update(t)},loadCurrentScene:function(){this.bg_color=$[this.current_scene].color,3==this.current_scene&&this.loadLevel(),this.destroyScene(),this.createScene(),this.resize()},changeScene:function(t){this.last_scene=this.current_scene,this.current_scene=t,console.log("Last Scene: "+this.last_scene),console.log("Current Scene: "+this.current_scene),this.loadCurrentScene()},createScene:function(){switch(this.stage.addChild(this.bg),this.bg.graphics.clear(),this.bg.graphics.beginFill(this.bg_color).drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),this.background=this.assets.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",0,"center",0,"image",this.ecs,this.stage),this.background_left=this.assets.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",-this.backgroundX,"center",0,"image",this.ecs,this.stage),this.background_right=this.assets.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",this.backgroundX,"center",0,"image",this.ecs,this.stage),this.current_scene){case 0:$[this.current_scene].fg_text="";break;case 1:$[this.current_scene].fg_text="";break;case 4:$[this.current_scene].fg_text="Hits: "+this.user.hits+"\n\nHighs: "+this.user.highs+"\n\nLows: "+this.user.lows+"\n\nTotal Misses: "+(this.user.highs+this.user.lows)+"\n\n";break;case 5:$[this.current_scene].fg_text="How To Play:\nThe goal of the game is to get\none hit anywhere above the range,\none hit anywhere below the range,\nand three hits within the range";break;case 6:$[this.current_scene].fg_text="";break;case 7:$[this.current_scene].fg_text="Username: "+this.user.username+"\n\nName: "+this.user.firstname+" "+this.user.lastname+"\n\n";break;case 9:$[this.current_scene].fg_text=q[this.current_level-1].hint;break;default:}8!=this.current_scene&&2!=this.current_scene&&3!=this.current_scene&&(this.foreground=this.assets.createTextContainer($[this.current_scene].fg_img,$[this.current_scene].fg_text,"Oldstyle","32px","normal","Saddlebrown",$[this.current_scene].fg_img.frames.width,$[this.current_scene].fg_img.frames.height,"center",0,"center",0,"image",0,this.ecs,this.stage)),2==this.current_scene&&(this.background=this.assets.createImage("res/menu.png",this.backgroundX,this.backgroundY,"center",0,"bottom",-this.backgroundY/2,"image",this.ecs,this.stage),this.background_left=this.assets.createImage("res/menu-left.png",this.backgroundX,this.backgroundY,"center",0-this.backgroundX,"bottom",-this.backgroundY/2,"image",this.ecs,this.stage),this.background_right=this.assets.createImage("res/menu-right.png",this.backgroundX,this.backgroundY,"center",0+this.backgroundX,"bottom",-this.backgroundY/2,"image",this.ecs,this.stage)),this.scenes[this.current_scene].custom(),this.createGUI()},oneWayScene:function(){var t=this.current_scene;this.current_scene=this.last_scene,this.last_scene=t,this.loadCurrentScene(),3==this.last_scene&&(this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1))},destroyScene:function(){this.clearHtml(),this.stage.removeAllChildren()},clearHtml:function(){var t=document.getElementById("sceneHTML");while(t.firstChild)t.removeChild(t.firstChild)},indicatorFunction:function(t){this.generated=!1,createjs.Sound.play("select"),this.current_level=t,this.resetLevel(),this.changeScene(3)},createGUI:function(){switch(this.current_scene){case 0:this.left_sword_button=this.assets.createButton("res/sword-left.png","Login",this.buttonX,this.buttonY,"center",-(this.buttonX/2+30),"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword");document.getElementById("usernameInput").value;var t={uname:document.getElementById("usernameInput").value,pass:document.getElementById("passwordInput").value};this.verifyUser(t)}.bind(this),this.ecs,this.stage),this.right_sword_button=this.assets.createButton("res/sword-right.png","Signup",this.buttonX,this.buttonY,"center",this.buttonX/2+65,"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword"),this.changeScene(1)}.bind(this),this.ecs,this.stage),this.secret_button=this.assets.createButton("res/secret_button.png","",this.backgroundX,1440,"center",0,"center",0,"image",function(){createjs.Sound.play("sword"),this.changeScene(8)}.bind(this),this.ecs,this.stage);break;case 1:this.left_sword_button=this.assets.createButton("res/sword-left.png","Signup",this.buttonX,this.buttonY,"center",-(this.buttonX/2+30),"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword");var t=document.getElementById("usernameInput").value;if(""==t)document.getElementById("errorText").textContent="Invalid username";else if(""==document.getElementById("firstnameInput").value)document.getElementById("errorText").textContent="Invalid firstname";else if(""==document.getElementById("lastnameInput").value)document.getElementById("errorText").textContent="Invalid lastname";else if(""==document.getElementById("passwordInput").value)document.getElementById("errorText").textContent="Invalid password";else if(document.getElementById("passwordInput").value!=document.getElementById("confirmInput").value)document.getElementById("errorText").textContent="Passwords do not match";else{var e={uname:document.getElementById("usernameInput").value,pass:document.getElementById("passwordInput").value,fname:document.getElementById("firstnameInput").value,lname:document.getElementById("lastnameInput").value,confirm:document.getElementById("confirmInput").value};this.createUser(e),this.changeScene(2)}}.bind(this),this.ecs,this.stage),this.right_sword_button=this.assets.createButton("res/sword-right.png","Cancel",this.buttonX,this.buttonY,"center",this.buttonX/2+65,"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword"),this.changeScene(0)}.bind(this),this.ecs,this.stage);break;case 2:this.play_button=this.assets.createButton("res/menu-button.png","Play",this.buttonX,this.buttonY,"center",0,"center",-200,"gui",function(){createjs.Sound.play("menu"),this.changeScene(8)}.bind(this),this.ecs,this.stage),this.stats_button=this.assets.createButton("res/menu-button.png","Stats",this.buttonX,this.buttonY,"center",0,"center",-100,"gui",function(){createjs.Sound.play("menu"),this.changeScene(4),this.getUserData(this.user.username)}.bind(this),this.ecs,this.stage),this.h2p_button=this.assets.createButton("res/menu-button.png","How To Play",this.buttonX,this.buttonY,"center",0,"center",0,"gui",function(){createjs.Sound.play("menu"),this.changeScene(5)}.bind(this),this.ecs,this.stage),this.settings_button=this.assets.createButton("res/menu-button.png","Settings",this.buttonX,this.buttonY,"center",0,"center",100,"gui",function(){createjs.Sound.play("menu"),this.changeScene(6)}.bind(this),this.ecs,this.stage),this.logout_button=this.assets.createButton("res/menu-button.png","Logout",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"top",this.buttonY/2+10,"gui",function(){createjs.Sound.play("menu"),this.user.authenticated=!1,this.changeScene(0),this.signoutUser()}.bind(this),this.ecs,this.stage),this.account_button=this.assets.createButton("res/menu-button.png","Account",this.buttonX,this.buttonY,"right",0-(this.buttonX/2+10),"top",this.buttonY/2+10,"gui",function(){createjs.Sound.play("menu"),this.changeScene(7),this.getUserData(this.user.username)}.bind(this),this.ecs,this.stage);break;case 3:this.end_level_scene=this.assets.createImage("res/login_scroll.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image",this.ecs,this.stage),this.end_level_scene.visible=!1,this.end_level_button=this.assets.createButton("res/login-button.png","Next Level",this.buttonX,this.buttonY,"center",0,"center",250,"gui",function(){createjs.Sound.play("select"),this.changeScene(8),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.end_level_button.visible=!1,this.end_level_button.alpha=0,this.end_text=this.assets.createText("Good Job!!","Oldstyle","65px","bold","gold",10,10,"center",0,"center",-140,"image",this.ecs,this.stage),this.end_text.visible=!1,this.end_text.skewY=-15,this.end_text.textAlign="center",this.hit_text=this.assets.createText("Total Hits:      ","Oldstyle","25px","","gold",10,10,"center",-120,"center",0,"image",this.ecs,this.stage),this.hit_text.visible=!1,this.hit_text.alpha=0,this.low_text=this.assets.createText("Total Lows:     ","Oldstyle","25px","","gold",10,10,"center",-120,"center",40,"image",this.ecs,this.stage),this.low_text.visible=!1,this.low_text.alpha=0,this.high_text=this.assets.createText("Total Highs:    ","Oldstyle","25px","","gold",10,10,"center",-120,"center",80,"image",this.ecs,this.stage),this.high_text.visible=!1,this.high_text.alpha=0,this.pause_menu=this.assets.createImage("res/hit-target-pause-menu.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image",this.ecs,this.stage),this.pause_menu.visible=!1,this.close_button=this.assets.createButton("res/hit-target-pause-close-button.png","",this.buttonX,this.buttonY,"center",445,"center",-281,"gui",function(){createjs.Sound.play("menu"),this.pauseAnimation(!1),this.visibleButton(!1),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.close_button.visible=!1,this.main_menu_button=this.assets.createButton("res/hit-target-pause-button.png","Main Menu",this.buttonX,this.buttonY,"center",0,"center",-180,"gui",function(){createjs.Sound.play("menu"),this.changeScene(2),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.main_menu_button.visible=!1,this.exit_level_button=this.assets.createButton("res/hit-target-pause-button.png","Exit Level",this.buttonX,this.buttonY,"center",0,"center",-110,"gui",function(){createjs.Sound.play("menu"),this.changeScene(8),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.exit_level_button.visible=!1,this.settings_button=this.assets.createButton("res/hit-target-pause-button.png","Settings",this.buttonX,this.buttonY,"center",0,"center",-40,"gui",function(){createjs.Sound.play("menu"),this.changeScene(6),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.settings_button.visible=!1,this.menu_button=this.assets.createButton("res/login-button.png","Pause",this.buttonX,this.buttonY,"right",-(this.buttonX/2+10),"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1)}.bind(this),this.ecs,this.stage),this.hint_button=this.assets.createButton("res/hint-button.png","Hint",72,72,"center",-313,"center",194,"gui",function(){createjs.Sound.play("sword"),this.changeScene(9),this.visibleForm(!0)}.bind(this),this.ecs,this.stage),this.hint_button.visible=!1,this.mobile.isMobile&&(this.ll_number_button=this.assets.createButton("res/number-button-ll.png","",this.backgroundX,288,"center",0,"bottom",-144,"image",function(){this.digit>0&&this.digit--,this.digit<0&&(this.digit=0),console.log(this.digit)}.bind(this),this.ecs,this.stage),this.lr_number_button=this.assets.createButton("res/number-button-lr.png","",this.backgroundX,288,"center",0,"bottom",-144,"image",function(){this.digit<2&&this.digit++,this.digit>2&&(this.digit=2),console.log(digit)}.bind(this),this.ecs,this.stage),this.rl_number_button=this.assets.createButton("res/number-button-rl.png","",this.backgroundX,288,"center",0,"bottom",-144,"image",function(){this.multiplier-=this.adder,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}.bind(this),this.ecs,this.stage),this.rr_number_button=this.assets.createButton("res/number-button-rr.png","",this.backgroundX,288,"center",0,"bottom",-144,"image",function(){this.multiplier+=this.adder,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}.bind(this),this.ecs,this.stage));break;case 4:this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),this.ecs,this.stage);break;case 5:this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),this.ecs,this.stage);break;case 6:this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.oneWayScene()}.bind(this),this.ecs,this.stage);break;case 7:this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),this.ecs,this.stage);break;case 8:var t={images:["res/reef.png"],frames:{width:120,height:108,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:3},e={images:["res/skyland.png"],frames:{width:180,height:120,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:3};this.midground=this.assets.createImage("res/map.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image",this.ecs,this.stage),this.foreground=this.assets.createButton("res/map-banner.png","Select a level",this.backgroundX,108,"center",0,"top",54,"image",function(){}.bind(this),this.ecs,this.stage);var i=this.assets.createSprite(t,120,108,"center",-420,"center",150,"image",this.ecs,this.stage);i.gotoAndPlay(0);var s=this.assets.createSprite(e,180,120,"center",-153,"center",-186,"image",this.ecs,this.stage);s.gotoAndPlay(0),this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),this.ecs,this.stage);for(var n=0;n<this.num_levels;n++){var r=this.assets.createButton("res/map-indicator.png",(n+1).toString(),48,48,"center",z[n].x,"center",z[n].y,"gui",this.levels[n].open.bind(this),this.ecs,this.stage);this.indicators.push(r)}break;case 9:this.menu_button=this.assets.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(3),this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1)}.bind(this),this.ecs,this.stage);break;default:}this.previous_indicator=this.assets.createImage("res/previous-indicator.png",24,24,"center",-50,"center",194,"gui",this.ecs,this.stage),this.previous_indicator.visible=!1,this.pause_indicator=this.assets.createImage("res/pause-indicator.png",24,24,"center",0,"center",194,"gui",this.ecs,this.stage),this.pause_indicator.visible=!1,this.next_indicator=this.assets.createImage("res/next-indicator.png",24,24,"center",50,"center",194,"gui",this.ecs,this.stage),this.next_indicator.visible=!1,this.lute=this.assets.createImage("res/lute.png",96,96,"center",313,"center",194,"gui",this.ecs,this.stage),this.lute.visible=!1,this.landscape_warning=new createjs.Shape,this.phone_rotation=this.assets.createSprite(this.phone_rotationS,288,288,"center",0,"center",0,"image",this.ecs,this.stage),this.stage.removeChild(this.phone_rotation)},loadLevel:function(){this.bg_color=q[this.current_level-1].color,this.loadImage(),this.end_level_flagS={images:["res/endgame-flag.png"],frames:{width:1920,height:1440,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.numberlineS={images:["res/numberline.png"],frames:{width:1920,height:24,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bossS={images:["res/level"+this.current_level+"/boss.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.henchmanS={images:["res/level"+this.current_level+"/henchman.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.projectileS={images:["res/ammo.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.catapultS={images:["res/catapult.png"],frames:{width:288,height:384,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.centerS={images:["res/level"+this.current_level+"/center.png"],frames:{width:1920,height:1440,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.left_centerS={images:["res/level"+this.current_level+"/left-center.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.right_centerS={images:["res/level"+this.current_level+"/right-center.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bannerS={images:["res/banners.png"],frames:{width:1920,height:768,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.range_bannerS={images:["res/range-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.equation_bannerS={images:["res/equation-banner.png"],frames:{width:300,height:78,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.history_bannerS={images:["res/history-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bodyS={images:["res/level"+this.current_level+"/body.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.leftS={images:["res/level"+this.current_level+"/left.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.rightS={images:["res/level"+this.current_level+"/right.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.facadeS={images:["res/level"+this.current_level+"/facade.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.big_bossS={images:["res/level"+this.current_level+"/big-boss.png"],frames:{width:1920,height:768,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_lowS={images:["res/firework-low.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_hitS={images:["res/firework-hit.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_highS={images:["res/firework-high.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.score_bannerS={images:["res/score-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.number_text=[]},loadImage:function(){this.preload=new createjs.LoadQueue,this.preload.on("progress",this.loading),this.preload.loadFile("res/numberline.png"),this.preload.loadFile("res/level"+this.current_level+"/boss.png"),this.preload.loadFile("res/level"+this.current_level+"/henchman.png"),this.preload.loadFile("res/ammo.png"),this.preload.loadFile("res/catapult.png"),this.preload.loadFile("res/level"+this.current_level+"/center.png"),this.preload.loadFile("res/level"+this.current_level+"/left-center.png"),this.preload.loadFile("res/level"+this.current_level+"/right-center.png"),this.preload.loadFile("res/level"+this.current_level+"/body.png"),this.preload.loadFile("res/level"+this.current_level+"/left.png"),this.preload.loadFile("res/level"+this.current_level+"/right.png"),this.preload.loadFile("res/level"+this.current_level+"/facade.png"),this.preload.loadFile("res/level"+this.current_level+"/big-boss.png"),createjs.Sound.registerSound("res/sound_effects/catapult_cocking.wav","reload"),createjs.Sound.registerSound("res/sound_effects/catapult_firing.wav","firing"),createjs.Sound.registerSound("res/sound_effects/victory.wav","win",1),createjs.Sound.registerSound("res/sound_effects/fire_lighting.wav","light",1),createjs.Sound.registerSound("res/sound_effects/crumbling.wav","crumble")},createLevel:function(){this.structure_center=this.assets.createSprite(this.centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.structure_left_center=this.assets.createSprite(this.left_centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.structure_right_center=this.assets.createSprite(this.right_centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.henchman_left_center=this.assets.createSprite(this.henchmanS,96,96,"center",-423,"bottom",-384,"image",this.lcs,this.stage),this.henchman_left_center.gotoAndPlay(0),this.boss=this.assets.createSprite(this.bossS,96,96,"center",0,"bottom",-384,"image",this.lcs,this.stage),this.boss.gotoAndPlay(0),this.henchman_right_center=this.assets.createSprite(this.henchmanS,96,96,"center",423,"bottom",-384,"image",this.lcs,this.stage),this.henchman_right_center.gotoAndPlay(0),this.structure_left=this.assets.createSprite(this.leftS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.structure_right=this.assets.createSprite(this.rightS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.henchman_left=this.assets.createSprite(this.henchmanS,96,96,"center",-753,"bottom",-183,"image",this.lcs,this.stage),this.henchman_left.gotoAndPlay(0),this.henchman_right=this.assets.createSprite(this.henchmanS,96,96,"center",753,"bottom",-183,"image",this.lcs,this.stage),this.henchman_right.gotoAndPlay(0),this.structure_body=this.assets.createSprite(this.bodyS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.structure_range=this.assets.createTextContainer(this.range_bannerS,"[ #, # ]","Oldstyle","32px","normal","Gold",192,126,"center",-282,"bottom",-273,"image",0,this.lcs,this.stage),this.structure_equation_banner=this.assets.createTextContainer(this.equation_bannerS,"# x              = #","Oldstyle","26px","normal","Gold",300,78,"center",0,"bottom",-282,"image",0,this.lcs,this.stage),this.structure_history=this.assets.createTextContainer(this.history_bannerS,"History","Oldstyle","18px","normal","Gold",192,126,"center",282,"bottom",-273,"image",63,this.lcs,this.stage),this.structure_facade=this.assets.createSprite(this.facadeS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image",this.lcs,this.stage),this.firework_low=this.assets.createSprite(this.firework_lowS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image",this.lcs,this.stage),this.firework_hit=this.assets.createSprite(this.firework_hitS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image",this.lcs,this.stage),this.firework_high=this.assets.createSprite(this.firework_highS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image",this.lcs,this.stage),this.projectile=this.assets.createSprite(this.projectileS,96,96,"center",0,"bottom",-105,"image",this.lcs,this.stage),this.projectile.gotoAndPlay(0),this.catapult=this.assets.createSprite(this.catapultS,288,384,"center",0,"bottom",-135,"image",this.lcs,this.stage),this.number_spacer=25;for(var t=-25;t<=25;t++){var e=this.assets.createText(t.toString(),"Arial","16px","bold","black",this.structureX,this.structureY,"center",0-(48*this.number_spacer+5),"top",30,"image",this.lcs,this.stage);this.number_text.push(e),this.number_spacer--}this.structure_score=this.assets.createTextContainer(this.score_bannerS,"Total Lows: 0\nTotal High: 0\nTotal Hits: 0","Oldstyle","24px","normal","Gold",192,126,"left",106,"bottom",-73,"image",63,this.lcs,this.stage),this.end_level_flag=this.assets.createSprite(this.end_level_flagS,this.structureX,this.structureY,"center",0,"center",0,"image",this.lcs,this.stage),this.end_level_flag.visible=!1},destroyLevel:function(){for(var t=0;t<lcs.length;t++)this.stage.removeChild(this.lcs[t].object);this.lcs=[]},changeLevel:function(t){this.resetLevel(),this.current_level++,this.current_level>this.num_levels&&(this.current_level=1),this.loadLevel(),this.destroyScene(),this.createScene(),this.resize()},myFunction:function(t){t.preventDefault(),document.getElementById("myDropdown").classList.toggle("show")},remakeRangeBanner:function(){var t="[ "+this.lower+", "+this.upper+"]";this.structure_range.text=t},randomizeRangeAndMultiplier:function(){this.rand_num1=Math.floor(10*Math.random()+1),this.rand_num2=Math.floor(100*Math.random()+1),this.multiplicand=Math.floor(11*Math.random()),this.lower=this.rand_num1*this.rand_num2,this.upper=this.rand_num1*(this.rand_num2+3);var t=document.getElementById("multiplicandText");while(t.firstChild)t.removeChild(t.firstChild);var e=document.createTextNode(this.multiplicand);t.appendChild(e)},runInput:function(){if(this.input.drag_up=!1,console.log("HIT: "+this.hit_counter),console.log("MU"+this.miss_upper_counter),console.log("ML"+this.miss_lower_counter),this.valid=!0,this.mobile.isMobile){for(var t in this.history_list)console.log(this.history_list[t]),console.log(this.entry);if(this.valid){console.log(this.history_list),this.history_list.push(this.multiplier);var e=document.getElementById("myDropdown"),i=document.createTextNode(this.multiplier),s=document.createElement("br");e.appendChild(i),e.appendChild(s),this.solution=this.multiplier*this.multiplicand,console.log(this.solution),this.solution=Math.floor10(this.solution,-1),console.log(this.solution);var n=document.getElementById("solutionText");while(n.firstChild)n.removeChild(n.firstChild);var r=document.createTextNode(solution);n.appendChild(r),this.structure_equation_banner.text=this.multiplicand.toString()+" x              = "+this.solution.toString(),this.solution<=this.upper&&this.solution>=this.lower?(this.hit=!0,console.log("hit"),this.catapult.gotoAndPlay(0),this.fired=!0):this.solution>this.upper?(this.miss_upper=!0,console.log("miss upper"),this.catapult.gotoAndPlay(0),this.fired=!0):this.solution<this.lower&&(this.miss_lower=!0,console.log("miss lower"),this.catapult.gotoAndPlay(0),this.fired=!0),this.multiplier=0,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}}else{var a=d()(document.getElementById("entryInput").value);for(var t in console.log("Entry type: "+Object(l["a"])(a)),console.log("Entry: "+a),"number"==typeof a?c()(a)?this.entry_is_correct=!1:this.entry_is_correct=!0:this.entry_is_correct=!1,this.history_list);if(this.entry_is_correct&&this.valid){this.multiplier=document.getElementById("entryInput").value,this.history_list.push(this.multiplier),console.log(this.history_list);e=document.getElementById("myDropdown"),i=document.createTextNode(this.multiplier),s=document.createElement("br");e.appendChild(i),e.appendChild(s),this.solution=this.multiplier*this.multiplicand,console.log(this.solution),this.solution=Math.round(100*(this.solution+1e-5))/100,console.log(this.solution);n=document.getElementById("solutionText");while(n.firstChild)n.removeChild(n.firstChild);r=document.createTextNode(this.solution);n.appendChild(r),this.structure_equation_banner.text=this.multiplicand.toString()+" x              = "+this.solution.toString(),document.getElementById("entryInput").value="",this.solution<=this.upper&&this.solution>=this.lower?(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.hit=!0,console.log("hit"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayIn)):this.solution>this.upper?(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.miss_upper=!0,console.log("miss upper"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayOut)):this.solution<this.lower&&(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.miss_lower=!0,console.log("miss lower"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayOut))}this.clearGameForm()}},checkSelectedDigit:function(){if(this.digit!=this.last_digit){switch(this.digit){case 0:this.adder=100,document.getElementById("hundredsPlace").style.color="red",document.getElementById("tensPlace").style.color="black",document.getElementById("onesPlace").style.color="black";break;case 1:this.adder=10,document.getElementById("hundredsPlace").style.color="black",document.getElementById("tensPlace").style.color="red",document.getElementById("onesPlace").style.color="black";break;case 2:this.adder=1,document.getElementById("hundredsPlace").style.color="black",document.getElementById("tensPlace").style.color="black",document.getElementById("onesPlace").style.color="red";break}this.last_digit=this.digit}},updateSinglePlayAnimations:function(){this.catapult.paused||11!=this.catapult.currentFrame||(this.catapult.stop(),this.reload=!1),this.end_level_flag.paused||11!=this.end_level_flag.currentFrame||this.end_level_flag.stop(),this.structure_center.paused||11!=this.structure_center.currentFrame||this.structure_center.stop(),this.structure_left_center.paused||5!=this.structure_left_center.currentFrame||this.structure_left_center.stop(),this.structure_right_center.paused||5!=this.structure_right_center.currentFrame||this.structure_right_center.stop(),this.structure_left.paused||5!=this.structure_left.currentFrame||this.structure_left.stop(),this.structure_right.paused||5!=this.structure_right.currentFrame||this.structure_right.stop(),this.firework_low.paused||11!=this.firework_low.currentFrame||this.firework_low.gotoAndStop(0),this.firework_hit.paused||11!=this.firework_hit.currentFrame||this.firework_hit.gotoAndStop(0),this.firework_high.paused||11!=this.firework_high.currentFrame||this.firework_high.gotoAndStop(0)},runHitAnimations:function(){if(this.hit){switch(this.hit_counter){case 0:console.log("henchmanLC"),this.target_x=this.henchman_left_center.x,this.projectile_x_speed=12;break;case 1:console.log("henchmanRC"),this.target_x=this.henchman_right_center.x,this.projectile_x_speed=12;break;case 2:console.log("bossC"),this.target_x=this.boss.x,this.projectile_x_speed=0;break;default:break}this.hit=!1,this.waiting_hit=!0}if(this.waiting_hit&&this.projectile_speed<0&&this.projectile.y>=this.boss.y){switch(this.hit_counter){case 0:this.hide_archer1=!0,this.structure_left_center.gotoAndPlay(0);break;case 1:this.hide_archer2=!0,this.structure_right_center.gotoAndPlay(0);break;case 2:this.hide_knight=!0,this.structure_center.gotoAndPlay(0);break;default:break}this.firework_hit.gotoAndPlay(0),this.reload=!0,this.waiting_hit=!1,this.hit_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()}},runMissAnimations:function(){this.miss_lower&&(this.target_x=this.henchman_left.x,this.projectile_x_speed=20,this.waiting_miss=!0),this.miss_upper&&(this.target_x=this.henchman_right.x,this.projectile_x_speed=20,this.waiting_miss=!0),this.waiting_miss&&(this.miss_lower&&this.projectile_speed<0&&this.projectile.y>=this.boss.y&&(this.miss_lower_counter<1&&(this.hide_archer3=!0,this.structure_left.gotoAndPlay(0)),this.firework_low.gotoAndPlay(0),this.reload=!0,this.miss_lower=!1,this.miss_lower_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()),this.miss_upper&&this.projectile_speed<0&&this.projectile.y>=this.boss.y&&(this.miss_upper_counter<1&&(this.hide_archer4=!0,this.structure_right.gotoAndPlay(0)),this.firework_high.gotoAndPlay(0),this.reload=!0,this.miss_upper=!1,this.miss_upper_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()))},checkTutorial:function(){this.play_tutorial&&(1!=this.miss_lower_counter?document.getElementById("tutorialText").textContent="Try finding any multiplier that produces a solution below the range":1!=this.miss_upper_counter?document.getElementById("tutorialText").textContent="Try finding any multiplier that produces a solution above the range":3!=this.hit_counter&&(document.getElementById("tutorialText").textContent="Try finding 3 multipliers that produce solutions within the range"))},createVictoryBanner:function(){this.hit_text.text+=this.hit_counter.toString(),this.low_text.text+=this.miss_lower_counter.toString(),this.high_text.text+=this.miss_upper_counter.toString(),this.visibleForm(!1),this.pauseAnimation(!0),this.end_level_button.visible=!0,createjs.Tween.get(this.end_level_flag).wait(2250).to({visible:!0}).call(this.flagAnimation),this.end_text.visible=!0;var t=this.scene_scale_X,e=this.scene_scale_Y;this.end_text.scaleX=0,this.end_text.scaleY=0,createjs.Tween.get(this.end_text).wait(4250).to({scaleX:t,scaleY:e},1e3,createjs.Ease.quintIn),createjs.Tween.get(this.end_text).wait(4250).to({rotation:360},1e3),this.hit_text.visible=!0,createjs.Tween.get(this.hit_text).wait(5750).to({alpha:1},500),this.low_text.visible=!0,createjs.Tween.get(this.low_text).wait(6750).to({alpha:1},500),this.high_text.visible=!0,createjs.Tween.get(this.high_text).wait(7750).to({alpha:1},500),this.end_level_button.visible=!0,createjs.Tween.get(this.end_level_button).wait(8375).to({alpha:1},125),this.menu_button.visible=!1,console.log("next level"),createjs.Sound.play("win",this.delayWin),this.user.hits+=this.hit_counter,this.user.highs+=this.miss_upper_counter,this.user.lows+=this.miss_lower_counter,this.target_x=0,this.hit=!1,this.miss_upper=!1,this.miss_lower=!1,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0,this.projectile_x_speed=0,this.updateStats({user:this.user.username,hits:this.user.hits,highs:this.user.highs,lows:this.user.lows})},hideBadGuys:function(){this.hide_knight?this.boss.alpha=0:this.boss.alpha=1,this.hide_archer1?this.henchman_left_center.alpha=0:this.henchman_left_center.alpha=1,this.hide_archer2?this.henchman_right_center.alpha=0:this.henchman_right_center.alpha=1,this.hide_archer3?this.henchman_left.alpha=0:this.henchman_left.alpha=1,this.hide_archer4?this.henchman_right.alpha=0:this.henchman_right.alpha=1},runCatapultAnimation:function(){1==this.fired&&(this.projectile.y-=this.projectile_speed*this.scene_scale_Y,this.projectile.x<this.target_x?this.projectile.x+=this.projectile_x_speed*this.scene_scale_Y:this.projectile.x>this.target_x&&(this.projectile.x-=this.projectile_x_speed*this.scene_scale_Y),this.projectile_speed-=3)},reloadCatapult:function(){11==this.catapult.currentFrame&&(this.reload=!1),this.reload?(console.log("reload"),this.fired=!1,this.projectile.alpha=0,this.projectile.x=this.stage.canvas.width/2,this.projectile.y=this.stage.canvas.height-105*this.scene_scale_Y,this.projectile_speed=57):this.projectile.alpha=1},checkBossFight:function(){},flagAnimation:function(){this.end_level_flag.gotoAndPlay(0)},setBoss:function(){this.boss_fight=document.getElementById("bossValue").checked},setTutorial:function(){this.play_tutorial=document.getElementById("tutorialValue").checked},clearMultiplicandBanner:function(){var t=document.getElementById("multiplicandText");while(t.firstChild)t.removeChild(t.firstChild);this.storage=0,this.factor=0,this.multiple=0,this.multiplier=0,this.digit=2,this.last_digit=0,this.adder=1,this.sign=" x ",this.equal=" = ",this.solution=0},remakeMultiplierBanner:function(){var t=document.getElementById("multiplicandText"),e=document.createTextNode(this.multiplicand);t.appendChild(e),this.structure_equation_banner.text=this.multiplicand.toString()+" x              = "+this.solution.toString()},clearGameForm:function(){this.clearHtml();var t=document.createElement("div");t.id="multiplicandText";var e=document.createTextNode(this.multiplicand);t.appendChild(e);var i,s=document.createTextNode(this.sign);if(this.mobile.isMobile){i=document.createElement("div"),i.id="entryDisplay";var n=document.createElement("span");n.id="hundredsPlace";var r=document.createTextNode("0");n.appendChild(r);var a=document.createElement("span");a.id="tensPlace";var o=document.createTextNode("0");a.appendChild(o);var h=document.createElement("span");h.id="onesPlace";var c=document.createTextNode("0");h.appendChild(c),i.appendChild(n),i.appendChild(a),i.appendChild(h)}else i=document.createElement("input"),i.id="entryInput",i.setAttribute("type","number"),i.setAttribute("placeholder","###"),i.setAttribute("value",""),i.setAttribute("maxlength","3"),i.setAttribute("size","4"),i.setAttribute("min","-999"),i.setAttribute("max","999"),i.setAttribute("name","entry"),i.addEventListener("keypress",function(t){13==t.keyCode&&t.preventDefault()});var l=document.createTextNode(this.equal),u=document.createElement("div");u.id="solutionText";var d=document.createTextNode(this.solution);u.appendChild(d);var g=document.createElement("div");g.className="login",g.appendChild(t),g.appendChild(s),g.appendChild(i),g.appendChild(l),g.appendChild(u);var m=document.createTextNode(""),p=document.createElement("button"),_=document.createElement("div");for(var b in p.className="dropbtn",p.addEventListener("click",this.myFunction),_.className="dropdown-content",_.id="myDropdown",p.appendChild(m),this.history_list){var f=document.createTextNode(this.history_list[b]),v=document.createElement("br");_.appendChild(f),_.appendChild(v)}var y=document.createElement("div");y.className="dropdown",y.appendChild(p),y.appendChild(_);var w=document.createElement("div");if(w.className="login",w.appendChild(y),this.play_tutorial){var x=document.createTextNode("Tutorial"),S=document.createElement("br"),k=document.createElement("span");k.className="tutorial",k.id="tutorialText";var C=document.createTextNode("The tutorial is broken");k.appendChild(C);var E=document.createElement("div");E.className="tutorial_title",E.id="tutorialDiv",E.appendChild(x),E.appendChild(S),E.appendChild(k)}var j=document.createElement("form");j.id="equationBanner",j.appendChild(g);var M=document.createElement("form");M.id="historyBanner",M.appendChild(w);var B=document.getElementById("sceneHTML");B.appendChild(j),B.appendChild(M),this.play_tutorial&&B.appendChild(E)},visibleForm:function(t){if(t){var e=document.getElementById("sceneHTML");e.hidden=!1}else{e=document.getElementById("sceneHTML");e.hidden=!0}},loading:function(t){var e=document.getElementById("progressBar"),i=document.getElementById("percentText");progressBar.hidden=!1,progressBackground.hidden=!1,ldBg.hidden=!1,e.style.width=100*this.preload.progress+"%",i.innerHTML=Math.floor(100*this.preload.progress).toString()+"%",100*this.preload.progress>=100&&(progressBar.hidden=!0,progressBackground.hidden=!0,ldBg.hidden=!0)},resetLevel:function(){this.history_list=[],this.hide_knight=!1,this.hide_archer1=!1,this.hide_archer2=!1,this.hide_archer3=!1,this.hide_archer4=!1,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0},pauseAnimation:function(t){this.henchman_left.paused=t,this.henchman_left_center.paused=t,this.boss.paused=t,this.henchman_right.paused=t,this.henchman_right_center.paused=t,this.projectile.paused=t,t?(this.structure_center.paused=!0,this.structure_left_center.paused=!0,this.structure_right_center.paused=!0,this.structure_left.paused=!0,this.structure_right.paused=!0,this.firework_low.paused=!0,this.firework_hit.paused=!0,this.firework_high.paused=!0,this.catapult.paused=!0):(0!=this.structure_center.currentFrame&&11!=this.structure_center.currentFrame&&(this.structure_center.paused=!1),0!=this.structure_left_center.currentFrame&&11!=this.structure_left_center.currentFrame&&(this.structure_left_center.paused=!1),0!=this.structure_right_center.currentFrame&&11!=this.structure_right_center.currentFrame&&(this.structure_right_center.paused=!1),0!=this.structure_left.currentFrame&&11!=this.structure_left.currentFrame&&(this.structure_left.paused=!1),0!=this.structure_right.currentFrame&&11!=this.structure_right.currentFrame&&(this.structure_right.paused=!1),0!=this.catapult.currentFrame&&11!=this.catapult.currentFrame&&(this.catapult.paused=!1),0!=this.firework_low.currentFrame&&11!=this.firework_low.currentFrame&&(this.firework_low.paused=!1),0!=this.firework_hit.currentFrame&&11!=this.firework_hit.currentFrame&&(this.firework_hit.paused=!1),0!=this.firework_high.currentFrame&&11!=this.firework_high.currentFrame&&(this.firework_high.paused=!1))},visibleButton:function(t){t?(this.menu_button.visible=!1,this.pause_menu.visible=!0,this.close_button.visible=!0,this.main_menu_button.visible=!0,this.exit_level_button.visible=!0,this.settings_button.visible=!0,this.previous_indicator.visible=!0,this.pause_indicator.visible=!0,this.next_indicator.visible=!0,this.lute.visible=!0,this.hint_button.visible=!0):(this.menu_button.visible=!0,this.pause_menu.visible=!1,this.close_button.visible=!1,this.main_menu_button.visible=!1,this.exit_level_button.visible=!1,this.settings_button.visible=!1,this.previous_indicator.visible=!1,this.pause_indicator.visible=!1,this.next_indicator.visible=!1,this.lute.visible=!1,this.hint_button.visible=!1)},muteSound:function(){this.music.sound_off||(console.log(this.lute.src),this.music.muted?(this.stage.removeChild(this.lute),this.lute=new createImage("res/lute.png",this.luteX,this.luteY),this.lute.addEventListener("click",this.music.muteSound),this.scaleGUI()):(this.stage.removeChild(this.lute),this.lute=new createImage("res/antiLute.png",this.luteX,this.luteY),lute.addEventListener("click",this.music.muteSound),this.scaleGUI()),this.music.current_song.muted=!this.music.current_song.muted,this.music.muted=!this.music.muted)}}},V=G,W=(i("e30e"),Object(f["a"])(V,a,o,!1,null,null,null)),J=W.exports,Q={name:"app",components:{Engine:J}},K=Q,Z=(i("034f"),Object(f["a"])(K,n,r,!1,null,null,null)),tt=Z.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(tt)}}).$mount("#app")},"64a9":function(t,e,i){},be16:function(t,e,i){},e30e:function(t,e,i){"use strict";var s=i("be16"),n=i.n(s);n.a}});
//# sourceMappingURL=app.33c3c258.js.map