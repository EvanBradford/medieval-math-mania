(function(e){function t(t){for(var n,a,o=t[0],h=t[1],c=t[2],u=0,d=[];u<o.length;u++)a=o[u],s[a]&&d.push(s[a][0]),s[a]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(e[n]=h[n]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var h=i[o];0!==s[h]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=h;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Engine")],1)},r=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"engineHolder"}},[i("canvas",{style:e.style,attrs:{id:"drawingCanvas"}},[e._v("alternate content")]),i("div",{attrs:{id:"sceneHTML"}}),e._m(0),i("div",{attrs:{id:"moduleHolder"}})])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ldscreen",attrs:{id:"ldBg"}},[i("span",{attrs:{id:"loadingText"}},[e._v("Loading")]),i("div",{staticClass:"bgbar",attrs:{id:"progressBackground"}},[i("div",{staticClass:"pgbar",attrs:{id:"progressBar"}})]),i("span",{attrs:{id:"percentText"}},[e._v("Loading")])])}],h=i("bfb3"),c=i.n(h),l=i("7618"),u=i("e814"),d=i.n(u),g=(i("6b54"),i("f499")),m=i.n(g),p=(i("ac6a"),i("96cf"),i("3b8d")),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"userInterfaceModule"}})},f=[],b={name:"UserInterface",data:function(){return{}},mounted:function(){},methods:{createImage:function(e,t,i,n,s,r,a,o){var h=new createjs.Bitmap(e);stage.addChild(h),h.regX=t/2,h.regY=i/2;var c={object:h,width:t,height:i,x_lock:n,x_location:s,y_lock:r,y_location:a,type:o};return this.$emit("pushToEcs",c),h},createSprite:function(e,t,i,n,s,r,a,o){console.log("Spritesheet loading starting.");var h=new createjs.SpriteSheet(e),c=(h.on("error",function(e,t){console.log("'"+e.src+"' failed to load")}),h.on("complete",function(e){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(h));stage.addChild(c),c.regX=t/2,c.regY=i/2;var l={object:c,width:t,height:i,x_lock:n,x_location:s,y_lock:r,y_location:a,type:o};return this.$emit("pushToEcs",l),c},createLevelSprite:function(e,t,i,n,s,r,a,o){var h=new createjs.SpriteSheet(e),c=(h.on("error",function(e,t){console.log("'"+e.src+"' failed to load")}),h.on("complete",function(e){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(h));stage.addChild(c),c.regX=t/2,c.regY=i/2;var l={object:c,width:t,height:i,x_lock:n,x_location:s,y_lock:r,y_location:a,type:o};return this.$emit("pushToLcs",l),c},createButton:function(e,t,i,n,s,r,a,o,h,c){var l=new createjs.Bitmap(e);l.regX=i/2,l.regY=n/2;var u="#DAA520",d="24",g="Blackadder";"Login"!=t&&"Signup"!=t&&"Create"!=t&&"Cancel"!=t||(u="#646464"),"Select a level"==t&&(d="60",g="Oldstyle"),"1"!=t&&"2"!=t&&"3"!=t&&"4"!=t&&"5"!=t&&"6"!=t&&"7"!=t&&"8"!=t&&"9"!=t&&"10"!=t&&"11"!=t&&"12"!=t&&"13"!=t&&"14"!=t&&"15"!=t&&"16"!=t&&"17"!=t&&"18"!=t&&"19"!=t&&"20"!=t||(d="16",g="Oldstyle",u="#FFFFFF");var m=new createjs.Text(t,"normal "+d+"px "+g,u);m.textAlign="center",m.textBaseline="middle";var p=new createjs.Container;p.addChild(l,m),stage.addChild(p),p.on("click",c);var _={object:p,width:i,height:n,x_lock:s,x_location:r,y_lock:a,y_location:o,type:h};return this.$emit("pushToEcs",_),p},createText:function(e,t,i,n,s,r,a,o,h,c,l,u){var d=new createjs.Text(e,n+" "+i+" "+t,s);stage.addChild(d),d.regX=r/2,d.regY=a/2;var g={object:d,width:r,height:a,x_lock:o,x_location:h,y_lock:c,y_location:l,type:u};return this.$emit("pushToEcs",g),d},createLevelText:function(e,t,i,n,s,r,a,o,h,c,l,u){var d=new createjs.Text(e,n+" "+i+" "+t,s);stage.addChild(d),d.regX=r/2,d.regY=a/2;var g={object:d,width:r,height:a,x_lock:o,x_location:h,y_lock:c,y_location:l,type:u};return this.$emit("pushToLcs",g),d},createTextContainer:function(e,t,i,n,s,r,a,o,h,c,l,u,d,g){var m=new createjs.SpriteSheet(e),p=new createjs.Sprite(m);p.regX=a/2,p.regY=o/2;var _=new createjs.Text(t,s+" "+n+" "+i,r);_.textAlign="center",_.textBaseline="middle",_.regY=g/2;var f=new createjs.Container;f.addChild(p,_),stage.addChild(f);var b={object:f,width:a,height:o,x_lock:h,x_location:c,y_lock:l,y_location:u,type:d};return this.$emit("pushToEcs",b),_},createLevelTextContainer:function(e,t,i,n,s,r,a,o,h,c,l,u,d,g){var m=new createjs.SpriteSheet(e),p=new createjs.Sprite(m);p.regX=a/2,p.regY=o/2;var _=new createjs.Text(t,s+" "+n+" "+i,r);_.textAlign="center",_.textBaseline="middle",_.regY=g/2;var f=new createjs.Container;f.addChild(p,_),stage.addChild(f);var b={object:f,width:a,height:o,x_lock:h,x_location:c,y_lock:l,y_location:u,type:d};return lcs.push(b),_}}},v=b,y=i("2877"),w=Object(y["a"])(v,_,f,!1,null,"49696a24",null),x=w.exports,k=i("d225"),S=i("b0b4"),C=function(){function e(){Object(k["a"])(this,e),this.keys={},this.touch=!1,this.drag_up=!1,this.drag_down=!1,this.start_touch=0,this.end_touch=0}return Object(S["a"])(e,[{key:"keyDown",value:function(e){this.keys[e.keyCode]=!0}},{key:"keyUp",value:function(e){delete this.keys[e.keyCode]}},{key:"handleStart",value:function(e){e.preventDefault(),this.start_touch=e.changedTouches[0].screenY,console.log("start: "+this.start_touch),this.touch=!0}},{key:"handleEnd",value:function(e){e.preventDefault(),this.end_touch=e.changedTouches[0].screenY,console.log("end: "+this.end_touch),console.log("drag: "+(this.end_touch-this.start_touch)),this.end_touch-this.start_touch<-100&&(console.log(this.drag_up),this.drag_up=!0,console.log(this.drag_up)),this.start_touch=this.end_touch=0}}]),e}(),M=C,j=function(){function e(){Object(k["a"])(this,e),this.isMobile=!1}return Object(S["a"])(e,[{key:"orientationCheck",value:function(){window.innerHeight>window.innerWidth&&this.isMobile?this.added||(this.stage.addChild(this.landscape_warning),this.stage.addChild(this.phone_rotation),this.phone_rotation.gotoAndPlay(0),scene_html=document.getElementById("sceneHTML"),scene_html.hidden=!0,this.added=!0):this.added&&(this.stage.removeChild(this.landscape_warning),this.stage.removeChild(this.phone_rotation),scene_html=document.getElementById("sceneHTML"),scene_html.hidden=!1,this.added=!1)}},{key:"mobileCheck",value:function(){switch(!0){case/Android/i.test(navigator.userAgent):console.log("Android mobile device");break;case/webOS/i.test(navigator.userAgent):console.log("webOS mobile device");break;case/iPhone/i.test(navigator.userAgent):console.log("iPhone mobile device");break;case/iPad/i.test(navigator.userAgent):console.log("iPad mobile device");break;case/iPod/i.test(navigator.userAgent):console.log("iPod mobile device");break;case/BlackBerry/i.test(navigator.userAgent):console.log("BlackBerry mobile device");break;case/IEMobile/i.test(navigator.userAgent):console.log("Microsoft mobile device");break;case/Opera Mini/i.test(navigator.userAgent):console.log("Opera Mini mobile browser");break;default:console.log("Unknown device type");break}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}}]),e}(),E=j,Y=["res/music/one-eyed_maestro.wav","res/music/achaidh_cheide.wav","res/music/cartoon_battle.wav","res/music/celtic_impulse.wav","res/music/clenched_teeth.wav","res/music/failing_defense.wav","res/music/fiddles_mcGinty.wav","res/music/galway.wav","res/music/hidden_past.wav","res/music/parisian.wav","res/music/bobbin_beeps.wav","res/music/whirlwind.wav","res/music/drums_in_the_deep.wav","res/music/fortress.wav"],T=["OneEyedMaestro","AchaidhCheide","CartoonBattle","CelticImpulse","ClenchedTeeth","FailingDefense","FiddlesMcGinty","Galway","HiddenPast","Parisian","BoppinBeeps","whirlwind","DrumsInTheDeep","Fortress"],B=function(){function e(){Object(k["a"])(this,e),this.muted=!1,this.playlist={size:0,sources:[],ids:[],current:0},this.sound_off=!0,this.volume=.5}return Object(S["a"])(e,[{key:"loadSound",value:function(){this.playlist.size=Y.length,this.playlist.sources=Y,this.playlist.ids=T,this.playlist.size=this.playlist.sources.length;for(var e=0;e<this.playlist.size;e++)createjs.Sound.registerSound(this.playlist.sources[e],this.playlist.ids[e])}},{key:"playSound",value:function(){this.sound_off?(this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.on("complete",function(){this.playlist.current++,this.playlist.current>=this.playlist.size&&(this.playlist.current=0),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume}),this.sound_off=!1):(this.current_song.paused=!this.current_song.paused,this.current_song.volume=this.volume)}},{key:"previousSound",value:function(){this.sound_off||(this.playlist.current--,this.playlist.current<0&&(this.playlist.current=this.playlist.size-1),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume,this.current_song.muted=this.muted)}},{key:"nextSound",value:function(){this.sound_off||(this.playlist.current++,this.playlist.current>=this.playlist.size&&(this.playlist.current=0),this.current_song.destroy(),this.current_song=createjs.Sound.play(this.playlist.ids[this.playlist.current]),this.current_song.volume=this.volume,this.current_song.muted=this.muted)}},{key:"setVolume",value:function(){this.volume=document.getElementById("volumeSlider").value,this.current_song.volume=this.volume,console.log(this.volume)}}]),e}(),X=B,I=i("cebc"),A=i("795b"),F=i.n(A),P=i("bc3a"),N=i.n(P),L="/api/stats/",O=function(){function e(){Object(k["a"])(this,e)}return Object(S["a"])(e,null,[{key:"getStats",value:function(){return new F.a(function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(L);case 3:n=e.sent,s=n.data,t(s.map(function(e){return Object(I["a"])({},e,{createdAt:new Date(e.createdAt)})})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),i(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,i){return e.apply(this,arguments)}}())}},{key:"findUserStats",value:function(e){return N.a.post(L+"find",{uname:e})}},{key:"updateUserStats",value:function(e){return N.a.post(L+"update",e)}}]),e}(),H=O,U="/api/login/",D=function(){function e(){Object(k["a"])(this,e)}return Object(S["a"])(e,null,[{key:"getUsers",value:function(){return new F.a(function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(U);case 3:n=e.sent,s=n.data,t(s.map(function(e){return Object(I["a"])({},e,{createdAt:new Date(e.createdAt)})})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),i(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,i){return e.apply(this,arguments)}}())}},{key:"findUserAccount",value:function(e){return N.a.post(U+"find",{uname:e})}},{key:"registerUser",value:function(e,t){N.a.post(U+"register",e).then(function(e){"Success"==e.data.result&&(t.authenticated=!0,t.username=e.data.user,t.firstname=e.data.first,t.lastname=e.data.last)}).catch(function(e){console.log(e)})}},{key:"loginUser",value:function(e,t){N.a.post(U+"login",e).then(function(e){"Success"==e.data.result&&(t.authenticated=!0,t.username=e.data.user,t.firstname=e.data.first,t.lastname=e.data.last)}).catch(function(e){console.log(e)})}},{key:"logoutUser",value:function(){return N.a.get(U+"logout")}}]),e}(),R=D,$=[{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Login didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Signup didn't load"},{color:"#8ac5dc",bg_img:"",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#000000",bg_img:"res/numberline.png",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Stats didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"How To Play didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Settings didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Account didn't load"},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/map.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:""},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Hint didn't load"}],z=[{x:-90,y:72},{x:-288,y:0},{x:-600,y:192},{x:-186,y:216},{x:-480,y:-108},{x:-474,y:-186},{x:-354,y:-138},{x:-90,y:-78},{x:534,y:-222},{x:150,y:102},{x:318,y:54},{x:546,y:150},{x:-186,y:-198},{x:-414,y:150},{x:234,y:-78},{x:354,y:-186},{x:486,y:-30},{x:-618,y:102},{x:42,y:-162},{x:-426,y:-6}],G={name:"Engine",components:{UserInterface:x},data:function(){return{error:"",text:"",user:{authenticated:!1,firstname:"Place",lastname:"Holder",username:"CpnPlchlder",hits:101010101,highs:101010101,lows:101010101},style:{background:"#aaa"}}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.getStats();case 3:return this.stats=e.sent,console.log(this.stats),e.next=7,R.getUsers();case 7:this.users=e.sent,console.log(this.users),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.input=new M,this.mobile=new E,this.music=new X,window.addEventListener("resize",this.resize,!1);var e=document.getElementById("drawingCanvas");e.addEventListener("touchstart",this.input.handleStart.bind(this.input),!1),e.addEventListener("touchend",this.input.handleEnd.bind(this.input),!1),console.log("initialized."),this.ecs=[],this.lcs=[],this.gcs=[],this.frame_counter=0,this.waiting_hit=!1,this.waiting_miss=!1,this.hide_knight=!1,this.hide_archer1=!1,this.hide_archer2=!1,this.hide_archer3=!1,this.hide_archer4=!1,this.entry_is_correct,this.hit=!1,this.miss_upper=!1,this.miss_lower=!1,this.upper=101010101,this.lower=101010101,this.generated=!1,this.fired=!1,this.fire_counter=0,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0,this.h_counter=0,this.u_counter=0,this.l_counter=0,this.reload=!1,this.reload_counter=0,this.projectile_speed=57,this.projectile_x_speed=0,this.boss_fight=!1,this.play_tutorial=!0,this.storage=0,this.factor=0,this.multiple=0,this.multiplier=0,this.digit=2,this.last_digit=0,this.adder=1,this.multiplicand=5,this.sign=" x ",this.equal=" = ",this.solution=0,this.history_list=[],this.valid=!0,this.delayRe=(new createjs.PlayPropsConfig).set({delay:250}),this.delayIn=(new createjs.PlayPropsConfig).set({delay:500}),this.delayOut=(new createjs.PlayPropsConfig).set({delay:750}),this.delayWin=(new createjs.PlayPropsConfig).set({delay:2e3}),this.database={users:{admin:{firstname:"Eric",lastname:"Bitikofer",password:"1234"}},stats:{admin:{hits:0,misses:0}}},this.max_scale_Y=1440,this.max_scale_X=1920,this.scene_scale_X=1,this.scene_scale_Y=1,this.scene_margin_X=0,this.added=!1,this.current_scene=0,this.last_scene=0,this.num_scenes=10,this.scenes=[{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Login didn't load",custom:function(){progressBar.hidden=!0,progressBackground.hidden=!0,ldBg.hidden=!0,createjs.Sound.registerSound("res/sound_effects/menu.wav","menu"),createjs.Sound.registerSound("res/sound_effects/select.wav","select"),createjs.Sound.registerSound("res/sound_effects/sword.wav","sword");var e=document.createTextNode("Username"),t=document.createElement("br"),i=document.createElement("input");i.id="usernameInput",i.setAttribute("type","text"),i.setAttribute("name","uname");var n=document.createElement("div");n.className="login",n.appendChild(e),n.appendChild(t),n.appendChild(i);t=document.createElement("br");var s=document.createTextNode("Password"),r=document.createElement("br"),a=document.createElement("input");a.id="passwordInput",a.setAttribute("type","password"),a.setAttribute("name","pass");var o=document.createElement("div");o.className="login",o.appendChild(s),o.appendChild(r),o.appendChild(a);var h=document.createElement("br"),c=document.createTextNode(""),l=document.createElement("div");l.id="errorText",l.appendChild(c);var u=document.createElement("form");u.id="loginForm",u.className="scrollMenu",u.appendChild(n),u.appendChild(t),u.appendChild(o),u.appendChild(h),u.appendChild(l);var d=document.getElementById("sceneHTML");d.appendChild(u)}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Signup didn't load",custom:function(){var e=document.createTextNode("Firstname:"),t=document.createElement("input");t.id="firstnameInput",t.setAttribute("type","text"),t.setAttribute("name","fname");var i=document.createElement("div");i.className="signup",i.appendChild(e),i.appendChild(t);var n=document.createTextNode("Lastname:"),s=document.createElement("input");s.id="lastnameInput",s.setAttribute("type","text"),s.setAttribute("name","lname");var r=document.createElement("div");r.className="signup",r.appendChild(n),r.appendChild(s);var a=document.createElement("br"),o=document.createTextNode("Username:"),h=document.createElement("input");h.id="usernameInput",h.setAttribute("type","text"),h.setAttribute("name","uname");var c=document.createElement("div");c.className="signup",c.appendChild(o),c.appendChild(h);var l=document.createElement("br"),u=document.createTextNode("Password:"),d=document.createElement("input");d.id="passwordInput",d.setAttribute("type","password"),d.setAttribute("name","pass");var g=document.createElement("div");g.className="signup",g.appendChild(u),g.appendChild(d);var m=document.createTextNode("Confirm:"),p=document.createElement("input");p.id="confirmInput",p.setAttribute("type","password"),p.setAttribute("name","confirm");var _=document.createElement("div");_.className="signup",_.appendChild(m),_.appendChild(p);var f=document.createElement("br"),b=document.createTextNode(""),v=document.createElement("div");v.id="errorText",v.appendChild(b);var y=document.createElement("form");y.id="signupForm",y.className="scrollMenu",y.appendChild(i),y.appendChild(r),y.appendChild(a),y.appendChild(c),y.appendChild(l),y.appendChild(g),y.appendChild(_),y.appendChild(f),y.appendChild(v);var w=document.getElementById("sceneHTML");w.appendChild(y)}.bind(this)},{color:"#8ac5dc",bg_img:"",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"",custom:function(){}.bind(this)},{color:"#000000",bg_img:"res/numberline.png",fg_img:{images:[""],frames:{width:0,height:0,count:0,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"",custom:function(){var e=document.createElement("div");e.id="multiplicandText";var t=document.createTextNode(this.multiplicand);e.appendChild(t);var i,n=document.createTextNode(this.sign);if(this.mobile.isMobile){i=document.createElement("div"),i.id="entryDisplay";var s=document.createElement("span");s.id="hundredsPlace";var r=document.createTextNode("0");s.appendChild(r);var a=document.createElement("span");a.id="tensPlace";var o=document.createTextNode("0");a.appendChild(o);var h=document.createElement("span");h.id="onesPlace";var c=document.createTextNode("0");h.appendChild(c),i.appendChild(s),i.appendChild(a),i.appendChild(h)}else i=document.createElement("input"),i.id="entryInput",i.setAttribute("type","number"),i.setAttribute("placeholder","###"),i.setAttribute("value",""),i.setAttribute("maxlength","3"),i.setAttribute("size","4"),i.setAttribute("min","-999"),i.setAttribute("max","999"),i.setAttribute("name","entry"),i.addEventListener("keypress",function(e){13==e.keyCode&&e.preventDefault()});var l=document.createTextNode(this.equal),u=document.createElement("div");u.id="solutionText";var d=document.createTextNode(this.solution);u.appendChild(d);var g=document.createElement("div");g.className="login",g.appendChild(e),g.appendChild(n),g.appendChild(i),g.appendChild(l),g.appendChild(u);var m=document.createTextNode("#"),p=document.createElement("button"),_=document.createElement("div");p.className="dropbtn",p.addEventListener("click",this.myFunction),_.className="dropdown-content",_.id="myDropdown",p.appendChild(m);var f=document.createElement("div");f.className="dropdown",f.appendChild(p),f.appendChild(_);var b=document.createElement("div");if(b.className="login",b.appendChild(f),this.play_tutorial){var v=document.createTextNode("Tutorial"),y=document.createElement("br"),w=document.createElement("span");w.className="tutorial",w.id="tutorialText";var x=document.createTextNode("The tutorial is broken");w.appendChild(x);var k=document.createElement("div");k.className="tutorial_title",k.id="tutorialDiv",k.appendChild(v),k.appendChild(y),k.appendChild(w)}var S=document.createElement("form");S.id="equationBanner",S.className="scrollMenu",S.appendChild(g);var C=document.createElement("form");C.id="historyBanner",C.className="scrollMenu",C.appendChild(b);var M=document.getElementById("sceneHTML");M.appendChild(S),M.appendChild(C),this.play_tutorial&&M.appendChild(k),this.createLevel(),this.mobile.isMobile||(document.getElementById("entryInput").value=0),document.getElementById("myDropdown").classList.toggle("show")}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Stats didn't load",custom:function(){}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"How To Play didn't load",custom:function(){}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Settings didn't load",custom:function(){var e=document.createTextNode("Volume:"),t=document.createElement("input");t.id="volumeSlider",t.setAttribute("type","range"),t.setAttribute("name","volume"),t.setAttribute("min","0"),t.setAttribute("max","1"),t.setAttribute("step","0.1"),t.setAttribute("value","0.5"),t.setAttribute(oninput,"SetVolume(this.value)"),t.setAttribute(onchange,"SetVolume(this.value)"),t.addEventListener("change",this.setVolume),t.addEventListener("input",this.setVolume);var i=document.createElement("div");i.className="login",i.appendChild(e),i.appendChild(t);var n=document.createTextNode("Time:"),s=document.createElement("input");s.id="bossValue",s.setAttribute("type","checkbox"),s.setAttribute("name","time"),this.boss_fight?s.checked=!0:s.checked=!1,s.addEventListener("change",this.setBoss);var r=document.createElement("div");r.className="login",r.appendChild(n),r.appendChild(s);var a=document.createTextNode("Tutorial:"),o=document.createElement("input");o.id="tutorialValue",o.setAttribute("type","checkbox"),o.setAttribute("name","tutorial"),this.play_tutorial?o.checked=!0:o.checked=!1,o.addEventListener("change",this.setTutorial);var h=document.createElement("div");h.className="login",h.appendChild(a),h.appendChild(o);var c=document.createElement("form");c.id="settingsForm",c.className="scrollMenu",c.appendChild(i),c.appendChild(r),c.appendChild(h);var l=document.getElementById("sceneHTML");l.appendChild(c)}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Account didn't load",custom:function(){}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/map.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"",custom:function(){}.bind(this)},{color:"#919191",bg_img:"res/login.png",fg_img:{images:["res/login_scroll.png"],frames:{width:750,height:600,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},fg_text:"Hint didn't load",custom:function(){}.bind(this)}],this.buttonX=216,this.buttonY=72,this.backgroundX=1920,this.backgroundY=768,this.indicators=[],this.indicator_counter=0,this.num_levels=20,this.current_level=1,this.levels=[{number:1,color:"#c9e6ff",hint:"If the student got the one whole number hit, and got the high, and the low, prompt them to think about money. For example, if they tried 8 × 7 = 56 and also tried 8 × 6 = 48 and 8 × 8 = 64, prompt them to try a value between 6 and 7 or between 7 and 8. Is there an amount of money between $6 and $7 or between $7 and $8? Try that value next!",math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.lower=this.multiple*this.multiplicand-Math.floor(this.multiplicand/2),this.upper=this.multiple*this.multiplicand+Math.floor(this.multiplicand/2)}.bind(this),open:function(){this.indicatorFunction(1)}},{number:2,color:"#c9f9ff",hint:"If the student got the whole number high and the low right above and below the target range, prompt them to think about money. For example, if they tried 7 × 7 = 49 and also tried 7 × 8 = 56, prompt them to try a value between 7 and 8. Think about money — is there an amount of money between $7 and $8? Try that value next!",math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.lower=this.multiple*this.multiplicand+1,this.upper=this.multiple*(this.multiplicand+1)-1}.bind(this),open:function(){this.indicatorFunction(2)}},{number:3,color:"#3b0a0a",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.factor=.1*this.multiplicand,this.lower=Math.floor(this.factor),this.upper=Math.ceil(this.factor),this.lower==this.upper&&this.upper++}.bind(this),open:function(){this.indicatorFunction(3)}},{number:4,color:"#c2ffe6",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.lower=0,this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(4)}},{number:5,color:"#b3b3b3",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=Math.floor(7*Math.random())+2,this.storage=this.multiplicand*this.multiple*10,this.lower=this.storage-10,this.upper=this.storage+10}.bind(this),open:function(){this.indicatorFunction(5)}},{number:6,color:"#effffe",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(7*Math.random())+2,this.multiple=100*this.multiplicand,this.lower=this.multiple-Math.floor(this.multiplicand/2),this.upper=this.multiple+Math.floor(this.multiplicand/2)}.bind(this),open:function(){this.indicatorFunction(6)}},{number:7,color:"#010027",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random())+10,this.lower=-Math.abs(Math.floor(7*Math.random())+2),this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(7)}},{number:8,color:"#2f3b25",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.round(90*Math.random())+10,this.lower=Math.round(90*Math.random()+110)/10,this.lower%1==0&&(this.lower+=.7),this.upper=Math.round(this.lower*this.lower/8*10+this.lower/2)/10,this.upper%1==0&&(this.upper+=.4)}.bind(this),open:function(){this.indicatorFunction(8)}},{number:9,color:"#dbf8ff",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(900*Math.random()+100),this.lower=0,this.upper=Math.floor(7*Math.random())+2}.bind(this),open:function(){this.indicatorFunction(9)}},{number:10,color:"#3f2900",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(990*Math.random()+10)/1e3,this.lower=1e3*this.multiplicand,this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(10)}},{number:11,color:"#292c2b",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random()*10+10)/10,this.lower=1e3*this.multiplicand,this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(11)}},{number:12,color:"#231e25",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(1e7*Math.random()),this.lower=Math.floor(1e-4*this.multiplicand)-(Math.floor(50*Math.random())+10),this.upper=Math.floor(1e-4*this.multiplicand)+(Math.floor(50*Math.random())+10)}.bind(this),open:function(){this.indicatorFunction(12)}},{number:13,color:"#b6c1ff",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(100*Math.random()+100),this.lower=Math.floor(this.multiplicand/2)-4,this.upper=Math.floor(this.multiplicand/2)+4}.bind(this),open:function(){this.indicatorFunction(13)}},{number:14,color:"#00373d",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random()+9)/10,this.lower=Math.floor(900*Math.random()+100),this.upper=this.lower+1}.bind(this),open:function(){this.indicatorFunction(14)}},{number:15,color:"#3b0a30",hint:"No hint for this level yet",math:function(){this.multiplicand=-Math.abs(Math.floor(7*Math.random())+2),this.lower=this.multiplicand*this.multiplicand,this.upper=this.lower+(Math.floor(7*Math.random())+2)}.bind(this),open:function(){this.indicatorFunction(15)}},{number:16,color:"#ccf1ff",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(90*Math.random()+9),this.lower=-Math.abs(Math.floor(84*Math.random())+15),this.upper=this.lower+5}.bind(this),open:function(){this.indicatorFunction(16)}},{number:17,color:"#5d5661",hint:"No hint for this level yet",math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random())+10),this.lower=-Math.abs(Math.floor(10*Math.random())+10),this.upper=-Math.abs(Math.floor(10*Math.random()))}.bind(this),open:function(){this.indicatorFunction(17)}},{number:18,color:"#effffe",hint:"No hint for this level yet",math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random()*10+10)/10),this.lower=Math.floor(10*Math.random()),this.upper=Math.floor(10*Math.random()+10)}.bind(this),open:function(){this.indicatorFunction(18)}},{number:19,color:"#556968",hint:"No hint for this level yet",math:function(){this.multiplicand=-Math.abs(Math.floor(90*Math.random()*10+10)/10),this.lower=Math.floor(90*Math.random()+9)/100,this.upper=Math.floor(100*(this.lower+.01))/100}.bind(this),open:function(){this.indicatorFunction(19)}},{number:20,color:"#56727d",hint:"No hint for this level yet",math:function(){this.multiplicand=Math.floor(900*Math.random())+100,this.lower=-Math.abs((Math.floor(1e4*Math.random())+5e3)/1e3),this.upper=this.lower+.01}.bind(this),open:function(){this.indicatorFunction(20)}}],this.number_spacing=10,this.number_spacer=25,this.structureX=1920,this.structureY=1440,this.phone_rotationS={images:["res/phone-rotation.png"],frames:{width:288,height:288,count:2,regX:0,regY:0,spacing:0,margin:0},framerate:2},this.stage=new createjs.Stage("drawingCanvas"),createjs.Touch.enable(this.stage),this.bg=new createjs.Shape,this.bg_color="#333333",this.stage.addChild(this.bg),this.music.loadSound(),console.log(this.music.playlist),this.createScene(),this.landscape_warning=new createjs.Shape,this.phone_rotation=this.createSprite(this.phone_rotationS,288,288,"center",0,"center",0,"image","menu"),this.stage.removeChild(this.phone_rotation),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",this.tick),document.onkeydown=this.input.keyDown.bind(this.input),document.onkeyup=this.input.keyUp.bind(this.input),this.resize()},methods:{createUser:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.registerUser(t,this.user);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 9:return e.prev=9,e.next=12,H.findUserStats(t.uname);case 12:i=e.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,e.next=23;break;case 19:e.prev=19,e.t1=e["catch"](9),this.error=e.t1.message,console.log(this.error);case 23:case"end":return e.stop()}},e,this,[[0,5],[9,19]])}));function t(t){return e.apply(this,arguments)}return t}(),getUserData:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.findUserAccount(t);case 3:i=e.sent,console.log(i.data),this.user.username=i.data.uname,this.user.firstname=i.data.fname,this.user.lastname=i.data.lname,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 14:return e.prev=14,e.next=17,H.findUserStats(t);case 17:n=e.sent,console.log(n.data),this.user.hits=n.data.hits,this.user.highs=n.data.highs,this.user.lows=n.data.lows,e.next=28;break;case 24:e.prev=24,e.t1=e["catch"](14),this.error=e.t1.message,console.log(this.error);case 28:case"end":return e.stop()}},e,this,[[0,10],[14,24]])}));function t(t){return e.apply(this,arguments)}return t}(),verifyUser:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.loginUser(t,this.user);case 3:console.log(this.user.authenticated),console.log("User: "+this.user.username),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 11:return e.prev=11,e.next=14,H.findUserStats(t.uname);case 14:i=e.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,e.next=25;break;case 21:e.prev=21,e.t1=e["catch"](11),this.error=e.t1.message,console.log(this.error);case 25:return e.prev=25,e.next=28,R.getUsers();case 28:this.posts=e.sent,e.next=35;break;case 31:e.prev=31,e.t2=e["catch"](25),this.error=e.t2.message,console.log(this.error);case 35:case"end":return e.stop()}},e,this,[[0,7],[11,21],[25,31]])}));function t(t){return e.apply(this,arguments)}return t}(),updateStats:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.updateUserStats(t);case 3:i=e.sent,console.log(i.data),this.user.hits=i.data.hits,this.user.highs=i.data.highs,this.user.lows=i.data.lows,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));function t(t){return e.apply(this,arguments)}return t}(),signoutUser:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.logoutUser();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),this.error=e.t0.message,console.log(this.error);case 9:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),resize:function(){this.mobile.mobileCheck.bind(this.mobile),this.mobile.orientationCheck.bind(this.mobile),this.stage.canvas.width=window.innerWidth,this.stage.canvas.height=window.innerHeight,window.innerWidth<600||window.innerWidth,this.bg.graphics.clear(),this.bg.graphics.beginFill(this.bg_color).drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),this.scene_scale_X=this.stage.canvas.width/this.max_scale_X,this.scene_scale_Y=this.stage.canvas.width/this.max_scale_X,this.scene_margin_X=(this.stage.canvas.width-this.max_scale_X)/2,console.log(this.scene_scale_X),console.log(this.scene_scale_Y),this.landscape_warning.graphics.clear(),this.landscape_warning.graphics.beginFill("#000000").drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),this.scaleAssets(),this.stage.update()},scale_to_canvas:function(e,t,i,n,s,r){var a=stage.canvas.width/2,o=stage.canvas.height/2;if(e.scaleX=scene_scale_X,e.scaleY=scene_scale_Y,mobile)switch(r){case"image":break;case"gui":e.scale=1;break;case"smallgui":e.scale=.5;break}switch(t){case"left":a=0;break;case"center":a=stage.canvas.width/2;break;case"right":a=stage.canvas.width;break}switch(n){case"top":o=0;break;case"center":o=stage.canvas.height/2;break;case"bottom":o=stage.canvas.height;break}e.x=a+i,e.y=o+s},tick:function(e){0==this.current_scene&&this.user.authenticated&&this.changeScene(2),3==this.current_scene&&0==this.pause_menu.visible&&(this.generated||(this.levels[this.current_level-1].math(),this.clearMultiplicandBanner(),this.remakeMultiplierBanner(),this.remakeRangeBanner(),this.generated=!0),console.log(this.input.drag_up),(this.input.keys[13]||this.input.drag_up)&&this.catapult.paused&&(console.log("Enter Pressed"),this.runInput()),this.mobile.isMobile&&this.checkSelectedDigit(),this.updateSinglePlayAnimations(),this.runHitAnimations(),this.runMissAnimations(),this.checkTutorial(),this.hit_counter>=3&&this.miss_upper_counter>=1&&this.miss_lower_counter>=1&&0==this.reload&&this.createVictoryBanner(),this.hideBadGuys(),this.runCatapultAnimation(),this.reloadCatapult()),this.stage.update(e)},scaleAssets:function(){console.log("ECS length: "+this.ecs.length);for(var e=0;e<this.ecs.length;e++){var t=1,i=this.stage.canvas.width/2,n=this.stage.canvas.height/2;switch(this.ecs[e].x_lock){case"left":i=0;break;case"center":i=this.stage.canvas.width/2;break;case"right":i=this.stage.canvas.width;break}switch(this.ecs[e].y_lock){case"top":n=0;break;case"center":n=this.stage.canvas.height/2;break;case"bottom":n=this.stage.canvas.height;break}switch(this.ecs[e].object.scaleX=this.scene_scale_X,this.ecs[e].object.scaleY=this.scene_scale_Y,this.mobile.isMobile&&(t=1.5),this.ecs[e].type){case"image":break;case"gui":break;case"smallgui":break}this.ecs[e].object.x=i+this.ecs[e].x_location*this.scene_scale_Y*t,this.ecs[e].object.y=n+this.ecs[e].y_location*this.scene_scale_Y*t}if(3==this.current_scene)for(e=0;e<this.lcs.length;e++){var s=1,r=this.stage.canvas.width/2,a=this.stage.canvas.height/2;switch(this.lcs[e].x_lock){case"left":r=0;break;case"center":r=this.stage.canvas.width/2;break;case"right":r=this.stage.canvas.width;break}switch(this.lcs[e].y_lock){case"top":a=0;break;case"center":a=this.stage.canvas.height/2;break;case"bottom":a=this.stage.canvas.height;break}switch(this.lcs[e].object.scaleX=this.scene_scale_X,this.lcs[e].object.scaleY=this.scene_scale_Y,this.mobile.isMobile&&(s=1.5),this.lcs[e].type){case"image":break;case"gui":break;case"smallgui":break}this.lcs[e].object.x=r+this.lcs[e].x_location*this.scene_scale_Y*s,this.lcs[e].object.y=a+this.lcs[e].y_location*this.scene_scale_Y*s}},createImage:function(e,t,i,n,s,r,a,o,h){var c=new createjs.Bitmap(e);return this.stage.addChild(c),c.regX=t/2,c.regY=i/2,this.createAndPushEntity(h,c,t,i,n,s,r,a,o),c},createSprite:function(e,t,i,n,s,r,a,o,h){var c=new createjs.SpriteSheet(e),l=(c.on("error",function(e,t){console.log("'"+e.src+"' failed to load")}),c.on("complete",function(e){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(c));return this.stage.addChild(l),l.regX=t/2,l.regY=i/2,this.createAndPushEntity(h,l,t,i,n,s,r,a,o),l},createText:function(e,t,i,n,s,r,a,o,h,c,l,u,d){var g=new createjs.Text(e,n+" "+i+" "+t,s);return this.stage.addChild(g),g.regX=r/2,g.regY=a/2,this.createAndPushEntity(d,g,r,a,o,h,c,l,u),g},createTextContainer:function(e,t,i,n,s,r,a,o,h,c,l,u,d,g,m){var p=new createjs.SpriteSheet(e),_=(p.on("error",function(e,t){console.log("'"+e.src+"' failed to load")}),p.on("complete",function(e){console.log("Spritesheet loading complete. Check for errors.")}),new createjs.Sprite(p));_.regX=a/2,_.regY=o/2;var f=new createjs.Text(t,s+" "+n+" "+i,r);f.textAlign="center",f.textBaseline="middle",f.regY=g/2;var b=new createjs.Container;return b.addChild(_,f),this.stage.addChild(b),this.createAndPushEntity(m,b,a,o,h,c,l,u,d),f},createButton:function(e,t,i,n,s,r,a,o,h,c,l){var u=new createjs.Bitmap(e);u.regX=i/2,u.regY=n/2;var d="#DAA520",g="24",m="Blackadder";"Login"!=t&&"Signup"!=t&&"Create"!=t&&"Cancel"!=t||(d="#646464"),"Select a level"==t&&(g="60",m="Oldstyle"),"1"!=t&&"2"!=t&&"3"!=t&&"4"!=t&&"5"!=t&&"6"!=t&&"7"!=t&&"8"!=t&&"9"!=t&&"10"!=t&&"11"!=t&&"12"!=t&&"13"!=t&&"14"!=t&&"15"!=t&&"16"!=t&&"17"!=t&&"18"!=t&&"19"!=t&&"20"!=t||(g="16",m="Oldstyle",d="#FFFFFF");var p=new createjs.Text(t,"normal "+g+"px "+m,d);p.textAlign="center",p.textBaseline="middle";var _=new createjs.Container;return _.addChild(u,p),this.stage.addChild(_),_.on("click",c),this.createAndPushEntity(l,_,i,n,s,r,a,o,h),_},createAndPushEntity:function(e,t,i,n,s,r,a,o,h){var c={object:t,width:i,height:n,x_lock:s,x_location:r,y_lock:a,y_location:o,type:h};"level"==e?this.lcs.push(c):"gui"==e?this.gcs.push(c):"menu"==e&&this.ecs.push(c)},loadCurrentScene:function(){this.bg_color=$[this.current_scene].color,3==this.current_scene&&this.loadLevel(),this.destroyScene(),this.createScene(),this.resize()},changeScene:function(e){this.last_scene=this.current_scene,this.current_scene=e,console.log("Last Scene: "+this.last_scene),console.log("Current Scene: "+this.current_scene),this.loadCurrentScene()},createScene:function(){switch(this.stage.addChild(this.bg),this.bg.graphics.clear(),this.bg.graphics.beginFill(this.bg_color).drawRect(0,0,this.stage.canvas.width,this.stage.canvas.height),this.background=this.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",0,"center",0,"image","menu"),this.background_left=this.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",-this.backgroundX,"center",0,"image","menu"),this.background_right=this.createImage($[this.current_scene].bg_img,this.backgroundX,1440,"center",this.backgroundX,"center",0,"image","menu"),this.current_scene){case 0:$[this.current_scene].fg_text="";break;case 1:$[this.current_scene].fg_text="";break;case 4:$[this.current_scene].fg_text="Hits: "+this.user.hits+"\n\nHighs: "+this.user.highs+"\n\nLows: "+this.user.lows+"\n\nTotal Misses: "+(this.user.highs+this.user.lows)+"\n\n";break;case 5:$[this.current_scene].fg_text="How To Play:\nThe goal of the game is to get\none hit anywhere above the range,\none hit anywhere below the range,\nand three hits within the range";break;case 6:$[this.current_scene].fg_text="";break;case 7:$[this.current_scene].fg_text="Username: "+this.user.username+"\n\nName: "+this.user.firstname+" "+this.user.lastname+"\n\n";break;case 9:$[this.current_scene].fg_text=this.levels[this.current_level-1].hint;break;default:}8!=this.current_scene&&2!=this.current_scene&&3!=this.current_scene&&(this.foreground=this.createTextContainer($[this.current_scene].fg_img,$[this.current_scene].fg_text,"Oldstyle","32px","normal","Saddlebrown",$[this.current_scene].fg_img.frames.width,$[this.current_scene].fg_img.frames.height,"center",0,"center",0,"image",0,"menu")),2==this.current_scene&&(this.background=this.createImage("res/menu.png",this.backgroundX,this.backgroundY,"center",0,"bottom",-this.backgroundY/2,"image","menu"),this.background_left=this.createImage("res/menu-left.png",this.backgroundX,this.backgroundY,"center",0-this.backgroundX,"bottom",-this.backgroundY/2,"image","menu"),this.background_right=this.createImage("res/menu-right.png",this.backgroundX,this.backgroundY,"center",0+this.backgroundX,"bottom",-this.backgroundY/2,"image","menu")),this.scenes[this.current_scene].custom(),this.createGUI()},oneWayScene:function(){var e=this.current_scene;this.current_scene=this.last_scene,this.last_scene=e,this.loadCurrentScene(),3==this.last_scene&&(this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1))},destroyScene:function(){this.clearHtml(),this.stage.removeAllChildren()},clearHtml:function(){var e=document.getElementById("sceneHTML");while(e.firstChild)e.removeChild(e.firstChild)},indicatorFunction:function(e){this.generated=!1,createjs.Sound.play("select"),this.current_level=e,this.resetLevel(),this.changeScene(3)},createGUI:function(){switch(this.current_scene){case 0:this.left_sword_button=this.createButton("res/sword-left.png","Login",this.buttonX,this.buttonY,"center",-(this.buttonX/2+30),"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword");document.getElementById("usernameInput").value;var e={uname:document.getElementById("usernameInput").value,pass:document.getElementById("passwordInput").value};console.log(m()(e)),this.verifyUser(e)}.bind(this),"menu"),this.right_sword_button=this.createButton("res/sword-right.png","Signup",this.buttonX,this.buttonY,"center",this.buttonX/2+65,"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword"),this.changeScene(1)}.bind(this),"menu"),this.secret_button=this.createButton("res/secret_button.png","",this.backgroundX,1440,"center",0,"center",0,"image",function(){createjs.Sound.play("sword"),this.changeScene(8)}.bind(this),"menu");break;case 1:this.left_sword_button=this.createButton("res/sword-left.png","Signup",this.buttonX,this.buttonY,"center",-(this.buttonX/2+30),"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword");var e=document.getElementById("usernameInput").value;if(e in this.database.users||""==e)document.getElementById("errorText").textContent="Invalid username";else if(""==document.getElementById("firstnameInput").value)document.getElementById("errorText").textContent="Invalid firstname";else if(""==document.getElementById("lastnameInput").value)document.getElementById("errorText").textContent="Invalid lastname";else if(""==document.getElementById("passwordInput").value)document.getElementById("errorText").textContent="Invalid password";else if(document.getElementById("passwordInput").value!=document.getElementById("confirmInput").value)document.getElementById("errorText").textContent="Passwords do not match";else{var t={uname:document.getElementById("usernameInput").value,pass:document.getElementById("passwordInput").value,fname:document.getElementById("firstnameInput").value,lname:document.getElementById("lastnameInput").value,confirm:document.getElementById("confirmInput").value};this.createUser(t),this.changeScene(2)}}.bind(this),"menu"),this.right_sword_button=this.createButton("res/sword-right.png","Cancel",this.buttonX,this.buttonY,"center",this.buttonX/2+65,"center",this.buttonY/2+200,"image",function(){createjs.Sound.play("sword"),this.changeScene(0)}.bind(this),"menu");break;case 2:this.play_button=this.createButton("res/menu-button.png","Play",this.buttonX,this.buttonY,"center",0,"center",-200,"gui",function(){createjs.Sound.play("menu"),this.changeScene(8)}.bind(this),"menu"),this.stats_button=this.createButton("res/menu-button.png","Stats",this.buttonX,this.buttonY,"center",0,"center",-100,"gui",function(){createjs.Sound.play("menu"),this.changeScene(4),this.getUserData(this.user.username)}.bind(this),"menu"),this.h2p_button=this.createButton("res/menu-button.png","How To Play",this.buttonX,this.buttonY,"center",0,"center",0,"gui",function(){createjs.Sound.play("menu"),this.changeScene(5)}.bind(this),"menu"),this.settings_button=this.createButton("res/menu-button.png","Settings",this.buttonX,this.buttonY,"center",0,"center",100,"gui",function(){createjs.Sound.play("menu"),this.changeScene(6)}.bind(this),"menu"),this.logout_button=this.createButton("res/menu-button.png","Logout",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"top",this.buttonY/2+10,"gui",function(){createjs.Sound.play("menu"),this.user.authenticated=!1,this.changeScene(0),this.signoutUser()}.bind(this),"menu"),this.account_button=this.createButton("res/menu-button.png","Account",this.buttonX,this.buttonY,"right",0-(this.buttonX/2+10),"top",this.buttonY/2+10,"gui",function(){createjs.Sound.play("menu"),this.changeScene(7),this.getUserData(this.user.username)}.bind(this),"menu");break;case 3:this.end_level_scene=this.createImage("res/login_scroll.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image","menu"),this.end_level_scene.visible=!1,this.end_level_button=this.createButton("res/login-button.png","Next Level",this.buttonX,this.buttonY,"center",0,"center",0+250*this.scene_scale_Y,"gui",function(){createjs.Sound.play("select"),this.changeScene(8),this.visibleForm(!0)}.bind(this),"menu"),this.end_level_button.visible=!1,this.end_level_button.alpha=0,this.end_text=this.createText("Good Job!!","Oldstyle","65px","bold","gold",10,10,"center",0,"center",0-140*this.scene_scale_Y,"image","menu"),this.end_text.visible=!1,this.end_text.skewY=-15,this.end_text.textAlign="center",this.hit_text=this.createText("Total Hits:      ","Oldstyle","25px","","gold",10,10,"center",0-120*this.scene_scale_Y,"center",0,"image","menu"),this.hit_text.visible=!1,this.hit_text.alpha=0,this.low_text=this.createText("Total Lows:     ","Oldstyle","25px","","gold",10,10,"center",0-120*this.scene_scale_Y,"center",0+40*this.scene_scale_Y,"image","menu"),this.low_text.visible=!1,this.low_text.alpha=0,this.high_text=this.createText("Total Highs:    ","Oldstyle","25px","","gold",10,10,"center",0-120*this.scene_scale_Y,"center",0+80*this.scene_scale_Y,"image","menu"),this.high_text.visible=!1,this.high_text.alpha=0,this.pause_menu=this.createImage("res/hit-target-pause-menu.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image","menu"),this.pause_menu.visible=!1,this.close_button=this.createButton("res/hit-target-pause-close-button.png","",this.buttonX,this.buttonY,"center",0+445*this.scene_scale_Y,"center",0-281*this.scene_scale_Y,"gui",function(){createjs.Sound.play("menu"),this.pauseAnimation(!1),this.visibleButton(!1),this.visibleForm(!0)}.bind(this),"menu"),this.close_button.visible=!1,this.main_menu_button=this.createButton("res/hit-target-pause-button.png","Main Menu",this.buttonX,this.buttonY,"center",0,"center",0-180*this.scene_scale_Y,"gui",function(){createjs.Sound.play("menu"),this.changeScene(2),this.visibleForm(!0)}.bind(this),"menu"),this.main_menu_button.visible=!1,this.exit_level_button=this.createButton("res/hit-target-pause-button.png","Exit Level",this.buttonX,this.buttonY,"center",0,"center",0-110*this.scene_scale_Y,"gui",function(){createjs.Sound.play("menu"),this.changeScene(8),this.visibleForm(!0)}.bind(this),"menu"),this.exit_level_button.visible=!1,this.settings_button=this.createButton("res/hit-target-pause-button.png","Settings",this.buttonX,this.buttonY,"center",0,"center",0-40*this.scene_scale_Y,"gui",function(){createjs.Sound.play("menu"),this.changeScene(6),this.visibleForm(!0)}.bind(this),"menu"),this.settings_button.visible=!1,this.menu_button=this.createButton("res/login-button.png","Pause",this.buttonX,this.buttonY,"right",-(this.buttonX/2+10),"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1)}.bind(this),"menu"),this.hint_button=this.createButton("res/hint-button.png","Hint",72,72,"center",0-313*this.scene_scale_Y,"center",0+194*this.scene_scale_Y,"gui",function(){createjs.Sound.play("sword"),this.changeScene(9),this.visibleForm(!0)}.bind(this),"menu"),this.hint_button.visible=!1,this.mobile.isMobile&&(this.ll_number_button=this.createButton("res/number-button-ll.png","",this.backgroundX,288,"center",0,"bottom",0-144*this.scene_scale_Y,"image",function(){this.digit>0&&this.digit--,this.digit<0&&(this.digit=0),console.log(this.digit)}.bind(this),"menu"),this.lr_number_button=this.createButton("res/number-button-lr.png","",this.backgroundX,288,"center",0,"bottom",0-144*this.scene_scale_Y,"image",function(){this.digit<2&&this.digit++,this.digit>2&&(this.digit=2),console.log(digit)}.bind(this),"menu"),this.rl_number_button=this.createButton("res/number-button-rl.png","",this.backgroundX,288,"center",0,"bottom",0-144*this.scene_scale_Y,"image",function(){this.multiplier-=this.adder,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}.bind(this),"menu"),this.rr_number_button=this.createButton("res/number-button-rr.png","",this.backgroundX,288,"center",0,"bottom",0-144*this.scene_scale_Y,"image",function(){this.multiplier+=this.adder,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}.bind(this),"menu"));break;case 4:this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),"menu");break;case 5:this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),"menu");break;case 6:this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.oneWayScene()}.bind(this),"menu");break;case 7:this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),"menu");break;case 8:var e={images:["res/reef.png"],frames:{width:120,height:108,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:3},t={images:["res/skyland.png"],frames:{width:180,height:120,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:3};this.midground=this.createImage("res/map.png",this.backgroundX,this.backgroundY,"center",0,"center",0,"image","menu"),this.foreground=this.createButton("res/map-banner.png","Select a level",this.backgroundX,108,"center",0,"top",54,"image",function(){}.bind(this),"menu");var i=this.createSprite(e,120,108,"center",-420,"center",150,"image","menu");i.gotoAndPlay(0);var n=this.createSprite(t,180,120,"center",-153,"center",-186,"image","menu");n.gotoAndPlay(0),this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(2)}.bind(this),"menu");for(var s=0;s<this.num_levels;s++){var r=this.createButton("res/map-indicator.png",(s+1).toString(),24,24,"center",z[s].x+12,"center",z[s].y+12,"gui",this.levels[s].open.bind(this),"menu");this.indicators.push(r)}break;case 9:this.menu_button=this.createButton("res/login-button.png","Menu",this.buttonX,this.buttonY,"left",this.buttonX/2+10,"bottom",-(this.buttonY/2+10),"gui",function(){createjs.Sound.play("menu"),this.changeScene(3),this.pauseAnimation(!0),this.visibleButton(!0),this.visibleForm(!1)}.bind(this),"menu");break;default:}this.previous_indicator=this.createImage("res/previous-indicator.png",24,24,"center",-50,"center",194,"gui","menu"),this.previous_indicator.visible=!1,this.pause_indicator=this.createImage("res/pause-indicator.png",24,24,"center",0,"center",194,"gui","menu"),this.pause_indicator.visible=!1,this.next_indicator=this.createImage("res/next-indicator.png",24,24,"center",50,"center",194,"gui","menu"),this.next_indicator.visible=!1,this.lute=this.createImage("res/lute.png",96,96,"center",313,"center",194,"gui","menu"),this.lute.visible=!1,this.landscape_warning=new createjs.Shape,this.phone_rotation=this.createSprite(this.phone_rotationS,288,288,"center",0,"center",0,"image","menu"),this.stage.removeChild(this.phone_rotation)},loadLevel:function(){this.bg_color=this.levels[this.current_level-1].color,this.loadImage(),this.end_level_flagS={images:["res/endgame-flag.png"],frames:{width:1920,height:1440,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.numberlineS={images:["res/numberline.png"],frames:{width:1920,height:24,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bossS={images:["res/level"+this.current_level+"/boss.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.henchmanS={images:["res/level"+this.current_level+"/henchman.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.projectileS={images:["res/ammo.png"],frames:{width:96,height:96,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.catapultS={images:["res/catapult.png"],frames:{width:288,height:384,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.centerS={images:["res/level"+this.current_level+"/center.png"],frames:{width:1920,height:1440,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.left_centerS={images:["res/level"+this.current_level+"/left-center.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.right_centerS={images:["res/level"+this.current_level+"/right-center.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bannerS={images:["res/banners.png"],frames:{width:1920,height:768,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.range_bannerS={images:["res/range-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.equation_bannerS={images:["res/equation-banner.png"],frames:{width:300,height:78,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.history_bannerS={images:["res/history-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.bodyS={images:["res/level"+this.current_level+"/body.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.leftS={images:["res/level"+this.current_level+"/left.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.rightS={images:["res/level"+this.current_level+"/right.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.facadeS={images:["res/level"+this.current_level+"/facade.png"],frames:{width:1920,height:1440,count:6,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.big_bossS={images:["res/level"+this.current_level+"/big-boss.png"],frames:{width:1920,height:768,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_lowS={images:["res/firework-low.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_hitS={images:["res/firework-hit.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.firework_highS={images:["res/firework-high.png"],frames:{width:1920,height:768,count:12,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.score_bannerS={images:["res/score-banner.png"],frames:{width:192,height:126,count:1,regX:0,regY:0,spacing:0,margin:0},framerate:6},this.number_text=[]},loadImage:function(){this.preload=new createjs.LoadQueue,this.preload.on("progress",this.loading),this.preload.loadFile("res/numberline.png"),this.preload.loadFile("res/level"+this.current_level+"/boss.png"),this.preload.loadFile("res/level"+this.current_level+"/henchman.png"),this.preload.loadFile("res/ammo.png"),this.preload.loadFile("res/catapult.png"),this.preload.loadFile("res/level"+this.current_level+"/center.png"),this.preload.loadFile("res/level"+this.current_level+"/left-center.png"),this.preload.loadFile("res/level"+this.current_level+"/right-center.png"),this.preload.loadFile("res/level"+this.current_level+"/body.png"),this.preload.loadFile("res/level"+this.current_level+"/left.png"),this.preload.loadFile("res/level"+this.current_level+"/right.png"),this.preload.loadFile("res/level"+this.current_level+"/facade.png"),this.preload.loadFile("res/level"+this.current_level+"/big-boss.png"),createjs.Sound.registerSound("res/sound_effects/catapult_cocking.wav","reload"),createjs.Sound.registerSound("res/sound_effects/catapult_firing.wav","firing"),createjs.Sound.registerSound("res/sound_effects/victory.wav","win",1),createjs.Sound.registerSound("res/sound_effects/fire_lighting.wav","light",1),createjs.Sound.registerSound("res/sound_effects/crumbling.wav","crumble")},createLevel:function(){this.structure_center=this.createSprite(this.centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.structure_left_center=this.createSprite(this.left_centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.structure_right_center=this.createSprite(this.right_centerS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.henchman_left=this.createSprite(this.henchmanS,96,96,"center",-673,"bottom",-360,"image","level"),this.henchman_left.gotoAndPlay(0),this.henchman_left_center=this.createSprite(this.henchmanS,96,96,"center",-423,"bottom",-384,"image","level"),this.henchman_left_center.gotoAndPlay(0),this.boss=this.createSprite(this.bossS,96,96,"center",0,"bottom",-384,"image","level"),this.boss.gotoAndPlay(0),this.henchman_right_center=this.createSprite(this.henchmanS,96,96,"center",423,"bottom",-384,"image","level"),this.henchman_right_center.gotoAndPlay(0),this.henchman_right=this.createSprite(this.henchmanS,96,96,"center",673,"bottom",-360,"image","level"),this.henchman_right.gotoAndPlay(0),this.structure_left=this.createSprite(this.leftS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.structure_right=this.createSprite(this.rightS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.structure_body=this.createSprite(this.bodyS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.structure_range=this.createTextContainer(this.range_bannerS,"[ #, # ]","Oldstyle","32px","normal","Gold",192,126,"center",-282,"bottom",-273,"image",0,"level"),this.structure_equation_banner=this.createTextContainer(this.equation_bannerS,"# x          = #","Oldstyle","26px","normal","Gold",300,78,"center",0,"bottom",-282,"image",0,"level"),this.structure_history=this.createTextContainer(this.history_bannerS,"History","Oldstyle","18px","normal","Gold",192,126,"center",282,"bottom",-273,"image",63,"level"),this.structure_facade=this.createSprite(this.facadeS,this.structureX,this.structureY,"center",0,"bottom",-this.structureY/2,"image","level"),this.firework_low=this.createSprite(this.firework_lowS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image","level"),this.firework_hit=this.createSprite(this.firework_hitS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image","level"),this.firework_high=this.createSprite(this.firework_highS,this.structureX,this.structureY,"center",0,"top",this.structureY/2,"image","level"),this.projectile=this.createSprite(this.projectileS,96,96,"center",0,"bottom",-105,"image","level"),this.projectile.gotoAndPlay(0),this.catapult=this.createSprite(this.catapultS,288,384,"center",0,"bottom",-135,"image","level"),this.number_spacer=25;for(var e=-25;e<=25;e++){var t=this.createText(e.toString(),"Arial","16px","bold","black",this.structureX,this.structureY,"center",0-(48*this.number_spacer+5),"top",30,"image","level");this.number_text.push(t),this.number_spacer--}this.structure_score=this.createTextContainer(this.score_bannerS,"Total Lows: 0\nTotal High: 0\nTotal Hits: 0","Oldstyle","24px","normal","Gold",192,126,"left",106,"bottom",-73,"image",63,"level"),this.end_level_flag=this.createSprite(this.end_level_flagS,this.structureX,this.structureY,"center",0,"center",0,"image","level"),this.end_level_flag.visible=!1},destroyLevel:function(){for(var e=0;e<lcs.length;e++)this.stage.removeChild(this.lcs[e].object);this.lcs=[]},changeLevel:function(e){this.resetLevel(),this.current_level++,this.current_level>this.num_levels&&(this.current_level=1),this.loadLevel(),this.destroyScene(),this.createScene(),this.resize()},myFunction:function(e){e.preventDefault(),document.getElementById("myDropdown").classList.toggle("show")},remakeRangeBanner:function(){var e="[ "+this.lower+", "+this.upper+"]";this.structure_range.text=e},randomizeRangeAndMultiplier:function(){this.rand_num1=Math.floor(10*Math.random()+1),this.rand_num2=Math.floor(100*Math.random()+1),this.multiplicand=Math.floor(11*Math.random()),this.lower=this.rand_num1*this.rand_num2,this.upper=this.rand_num1*(this.rand_num2+3);var e=document.getElementById("multiplicandText");while(e.firstChild)e.removeChild(e.firstChild);var t=document.createTextNode(this.multiplicand);e.appendChild(t)},runInput:function(){if(this.input.drag_up=!1,console.log("HIT: "+this.hit_counter),console.log("MU"+this.miss_upper_counter),console.log("ML"+this.miss_lower_counter),this.valid=!0,this.mobile.isMobile){for(var e in this.history_list)console.log(this.history_list[e]),console.log(this.entry);if(this.valid){console.log(this.history_list),this.history_list.push(this.multiplier);var t=document.getElementById("myDropdown"),i=document.createTextNode(this.multiplier),n=document.createElement("br");t.appendChild(i),t.appendChild(n),this.solution=this.multiplier*this.multiplicand,console.log(this.solution),this.solution=Math.floor10(this.solution,-1),console.log(this.solution);var s=document.getElementById("solutionText");while(s.firstChild)s.removeChild(s.firstChild);var r=document.createTextNode(solution);s.appendChild(r),this.structure_equation_banner.text=this.multiplicand.toString()+" x          = "+this.solution.toString(),this.solution<=this.upper&&this.solution>=this.lower?(this.hit=!0,console.log("hit"),this.catapult.gotoAndPlay(0),this.fired=!0):this.solution>this.upper?(this.miss_upper=!0,console.log("miss upper"),this.catapult.gotoAndPlay(0),this.fired=!0):this.solution<this.lower&&(this.miss_lower=!0,console.log("miss lower"),this.catapult.gotoAndPlay(0),this.fired=!0),this.multiplier=0,document.getElementById("hundredsPlace").textContent=Math.floor(this.multiplier/100%10),document.getElementById("tensPlace").textContent=Math.abs(Math.floor(this.multiplier/10%10)),document.getElementById("onesPlace").textContent=Math.abs(Math.floor(this.multiplier%10))}}else{var a=d()(document.getElementById("entryInput").value);for(var e in console.log("Entry type: "+Object(l["a"])(a)),console.log("Entry: "+a),"number"==typeof a?c()(a)?this.entry_is_correct=!1:this.entry_is_correct=!0:this.entry_is_correct=!1,this.history_list)console.log(this.history_list[e]),console.log(this.entry);if(this.entry_is_correct&&this.valid){this.multiplier=document.getElementById("entryInput").value,this.history_list.push(this.multiplier),console.log(this.history_list);t=document.getElementById("myDropdown"),i=document.createTextNode(this.multiplier),n=document.createElement("br");t.appendChild(i),t.appendChild(n),this.solution=this.multiplier*this.multiplicand,console.log(this.solution),this.solution=Math.round(100*(this.solution+1e-5))/100,console.log(this.solution);s=document.getElementById("solutionText");while(s.firstChild)s.removeChild(s.firstChild);r=document.createTextNode(this.solution);s.appendChild(r),this.structure_equation_banner.text=this.multiplicand.toString()+" x          = "+this.solution.toString(),document.getElementById("entryInput").value="",this.solution<=this.upper&&this.solution>=this.lower?(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.hit=!0,console.log("hit"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayIn)):this.solution>this.upper?(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.miss_upper=!0,console.log("miss upper"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayOut)):this.solution<this.lower&&(createjs.Sound.play("firing"),createjs.Sound.play("reload",this.delayRe),this.miss_lower=!0,console.log("miss lower"),this.catapult.gotoAndPlay(0),this.fired=!0,createjs.Sound.play("light"),createjs.Sound.play("crumble",this.delayOut))}this.clearGameForm()}},checkSelectedDigit:function(){if(this.digit!=this.last_digit){switch(this.digit){case 0:this.adder=100,document.getElementById("hundredsPlace").style.color="red",document.getElementById("tensPlace").style.color="black",document.getElementById("onesPlace").style.color="black";break;case 1:this.adder=10,document.getElementById("hundredsPlace").style.color="black",document.getElementById("tensPlace").style.color="red",document.getElementById("onesPlace").style.color="black";break;case 2:this.adder=1,document.getElementById("hundredsPlace").style.color="black",document.getElementById("tensPlace").style.color="black",document.getElementById("onesPlace").style.color="red";break}this.last_digit=this.digit}},updateSinglePlayAnimations:function(){this.catapult.paused||11!=this.catapult.currentFrame||(this.catapult.stop(),this.reload=!1),this.end_level_flag.paused||11!=this.end_level_flag.currentFrame||this.end_level_flag.stop(),this.structure_center.paused||11!=this.structure_center.currentFrame||this.structure_center.stop(),this.structure_left_center.paused||5!=this.structure_left_center.currentFrame||this.structure_left_center.stop(),this.structure_right_center.paused||5!=this.structure_right_center.currentFrame||this.structure_right_center.stop(),this.structure_left.paused||5!=this.structure_left.currentFrame||this.structure_left.stop(),this.structure_right.paused||5!=this.structure_right.currentFrame||this.structure_right.stop(),this.firework_low.paused||11!=this.firework_low.currentFrame||this.firework_low.gotoAndStop(0),this.firework_hit.paused||11!=this.firework_hit.currentFrame||this.firework_hit.gotoAndStop(0),this.firework_high.paused||11!=this.firework_high.currentFrame||this.firework_high.gotoAndStop(0)},runHitAnimations:function(){if(this.hit){switch(this.hit_counter){case 0:console.log("henchmanLC"),this.target_x=this.henchman_left_center.x,this.projectile_x_speed=12;break;case 1:console.log("henchmanRC"),this.target_x=this.henchman_right_center.x,this.projectile_x_speed=12;break;case 2:console.log("bossC"),this.target_x=this.boss.x,this.projectile_x_speed=0;break;default:break}this.hit=!1,this.waiting_hit=!0}if(this.waiting_hit&&this.projectile_speed<0&&this.projectile.y>=this.boss.y){switch(this.hit_counter){case 0:this.hide_archer1=!0,this.structure_left_center.gotoAndPlay(0);break;case 1:this.hide_archer2=!0,this.structure_right_center.gotoAndPlay(0);break;case 2:this.hide_knight=!0,this.structure_center.gotoAndPlay(0);break;default:break}this.firework_hit.gotoAndPlay(0),this.reload=!0,this.waiting_hit=!1,this.hit_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()}},runMissAnimations:function(){this.miss_lower&&(this.target_x=this.henchman_left.x,this.projectile_x_speed=20,this.waiting_miss=!0),this.miss_upper&&(this.target_x=this.henchman_right.x,this.projectile_x_speed=20,this.waiting_miss=!0),this.waiting_miss&&(this.miss_lower&&this.projectile_speed<0&&this.projectile.y>=this.boss.y&&(this.miss_lower_counter<1&&(this.hide_archer3=!0,this.structure_left.gotoAndPlay(0)),this.firework_low.gotoAndPlay(0),this.reload=!0,this.miss_lower=!1,this.miss_lower_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()),this.miss_upper&&this.projectile_speed<0&&this.projectile.y>=this.boss.y&&(this.miss_upper_counter<1&&(this.hide_archer4=!0,this.structure_right.gotoAndPlay(0)),this.firework_high.gotoAndPlay(0),this.reload=!0,this.miss_upper=!1,this.miss_upper_counter++,this.structure_score.text="Total Lows: "+this.miss_lower_counter.toString()+"\nTotal High: "+this.miss_upper_counter.toString()+"\nTotal Hits: "+this.hit_counter.toString()))},checkTutorial:function(){this.play_tutorial&&(1!=this.miss_lower_counter?document.getElementById("tutorialText").textContent="Try finding any multiplier that produces a solution below the range":1!=this.miss_upper_counter?document.getElementById("tutorialText").textContent="Try finding any multiplier that produces a solution above the range":3!=this.hit_counter&&(document.getElementById("tutorialText").textContent="Try finding 3 multipliers that produce solutions within the range"))},createVictoryBanner:function(){this.hit_text.text+=this.hit_counter.toString(),this.low_text.text+=this.miss_lower_counter.toString(),this.high_text.text+=this.miss_upper_counter.toString(),this.visibleForm(!1),this.pauseAnimation(!0),this.end_level_button.visible=!0,createjs.Tween.get(this.end_level_flag).wait(2250).to({visible:!0}).call(this.flagAnimation),this.end_text.visible=!0;var e=this.scene_scale_X,t=this.scene_scale_Y;this.end_text.scaleX=0,this.end_text.scaleY=0,createjs.Tween.get(this.end_text).wait(4250).to({scaleX:e,scaleY:t},1e3,createjs.Ease.quintIn),createjs.Tween.get(this.end_text).wait(4250).to({rotation:360},1e3),this.hit_text.visible=!0,createjs.Tween.get(this.hit_text).wait(5750).to({alpha:1},500),this.low_text.visible=!0,createjs.Tween.get(this.low_text).wait(6750).to({alpha:1},500),this.high_text.visible=!0,createjs.Tween.get(this.high_text).wait(7750).to({alpha:1},500),this.end_level_button.visible=!0,createjs.Tween.get(this.end_level_button).wait(8375).to({alpha:1},125),this.menu_button.visible=!1,console.log("next level"),createjs.Sound.play("win",this.delayWin),this.user.hits+=this.hit_counter,this.user.highs+=this.miss_upper_counter,this.user.lows+=this.miss_lower_counter,this.target_x=0,this.hit=!1,this.miss_upper=!1,this.miss_lower=!1,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0,this.projectile_x_speed=0,this.updateStats({user:this.user.username,hits:this.user.hits,highs:this.user.highs,lows:this.user.lows})},hideBadGuys:function(){this.hide_knight?this.boss.alpha=0:this.boss.alpha=1,this.hide_archer1?this.henchman_left_center.alpha=0:this.henchman_left_center.alpha=1,this.hide_archer2?this.henchman_right_center.alpha=0:this.henchman_right_center.alpha=1,this.hide_archer3?this.henchman_left.alpha=0:this.henchman_left.alpha=1,this.hide_archer4?this.henchman_right.alpha=0:this.henchman_right.alpha=1},runCatapultAnimation:function(){1==this.fired&&(this.projectile.y-=this.projectile_speed*this.scene_scale_Y,this.projectile.x<this.target_x?this.projectile.x+=this.projectile_x_speed*this.scene_scale_Y:this.projectile.x>this.target_x&&(this.projectile.x-=this.projectile_x_speed*this.scene_scale_Y),this.projectile_speed-=3)},reloadCatapult:function(){11==this.catapult.currentFrame&&(this.reload=!1),this.reload?(console.log("reload"),this.fired=!1,this.projectile.alpha=0,this.projectile.x=this.stage.canvas.width/2,this.projectile.y=this.stage.canvas.height-105*this.scene_scale_Y,this.projectile_speed=57):this.projectile.alpha=1},checkBossFight:function(){},flagAnimation:function(){this.end_level_flag.gotoAndPlay(0)},setBoss:function(){this.boss_fight=document.getElementById("bossValue").checked},setTutorial:function(){this.play_tutorial=document.getElementById("tutorialValue").checked},clearMultiplicandBanner:function(){var e=document.getElementById("multiplicandText");while(e.firstChild)e.removeChild(e.firstChild)},remakeMultiplierBanner:function(){var e=document.getElementById("multiplicandText"),t=document.createTextNode(this.multiplicand);e.appendChild(t),this.structure_equation_banner.text=this.multiplicand.toString()+" x          = "+this.solution.toString()},clearGameForm:function(){this.clearHtml();var e=document.createElement("div");e.id="multiplicandText";var t=document.createTextNode(this.multiplicand);e.appendChild(t);var i,n=document.createTextNode(this.sign);if(this.mobile.isMobile){i=document.createElement("div"),i.id="entryDisplay";var s=document.createElement("span");s.id="hundredsPlace";var r=document.createTextNode("0");s.appendChild(r);var a=document.createElement("span");a.id="tensPlace";var o=document.createTextNode("0");a.appendChild(o);var h=document.createElement("span");h.id="onesPlace";var c=document.createTextNode("0");h.appendChild(c),i.appendChild(s),i.appendChild(a),i.appendChild(h)}else i=document.createElement("input"),i.id="entryInput",i.setAttribute("type","number"),i.setAttribute("placeholder","###"),i.setAttribute("value",""),i.setAttribute("maxlength","3"),i.setAttribute("size","4"),i.setAttribute("min","-999"),i.setAttribute("max","999"),i.setAttribute("name","entry"),i.addEventListener("keypress",function(e){13==e.keyCode&&e.preventDefault()});var l=document.createTextNode(this.equal),u=document.createElement("div");u.id="solutionText";var d=document.createTextNode(this.solution);u.appendChild(d);var g=document.createElement("div");g.className="login",g.appendChild(e),g.appendChild(n),g.appendChild(i),g.appendChild(l),g.appendChild(u);var m=document.createTextNode("#"),p=document.createElement("button"),_=document.createElement("div");p.className="dropbtn",p.addEventListener("click",this.myFunction),_.className="dropdown-content",_.id="myDropdown",p.appendChild(m);var f=document.createElement("div");f.className="dropdown",f.appendChild(p),f.appendChild(_);var b=document.createElement("div");if(b.className="login",b.appendChild(f),this.play_tutorial){var v=document.createTextNode("Tutorial"),y=document.createElement("br"),w=document.createElement("span");w.className="tutorial",w.id="tutorialText";var x=document.createTextNode("The tutorial is broken");w.appendChild(x);var k=document.createElement("div");k.className="tutorial_title",k.id="tutorialDiv",k.appendChild(v),k.appendChild(y),k.appendChild(w)}var S=document.createElement("form");S.id="equationBanner",S.className="scrollMenu",S.appendChild(g);var C=document.createElement("form");C.id="historyBanner",C.className="scrollMenu",C.appendChild(b);var M=document.getElementById("sceneHTML");M.appendChild(S),M.appendChild(C),this.play_tutorial&&M.appendChild(k)},visibleForm:function(e){if(e){var t=document.getElementById("sceneHTML");t.hidden=!1}else{t=document.getElementById("sceneHTML");t.hidden=!0}},loading:function(e){var t=document.getElementById("progressBar"),i=document.getElementById("percentText");progressBar.hidden=!1,progressBackground.hidden=!1,ldBg.hidden=!1,t.style.width=100*this.preload.progress+"%",i.innerHTML=Math.floor(100*this.preload.progress).toString()+"%",100*this.preload.progress>=100&&(progressBar.hidden=!0,progressBackground.hidden=!0,ldBg.hidden=!0)},resetLevel:function(){this.history_list=[],this.hide_knight=!1,this.hide_archer1=!1,this.hide_archer2=!1,this.hide_archer3=!1,this.hide_archer4=!1,this.hit_counter=0,this.miss_upper_counter=0,this.miss_lower_counter=0},pauseAnimation:function(e){this.henchman_left.paused=e,this.henchman_left_center.paused=e,this.boss.paused=e,this.henchman_right.paused=e,this.henchman_right_center.paused=e,this.projectile.paused=e,e?(this.structure_center.paused=!0,this.structure_left_center.paused=!0,this.structure_right_center.paused=!0,this.structure_left.paused=!0,this.structure_right.paused=!0,this.firework_low.paused=!0,this.firework_hit.paused=!0,this.firework_high.paused=!0,this.catapult.paused=!0):(0!=this.structure_center.currentFrame&&11!=this.structure_center.currentFrame&&(this.structure_center.paused=!1),0!=this.structure_left_center.currentFrame&&11!=this.structure_left_center.currentFrame&&(this.structure_left_center.paused=!1),0!=this.structure_right_center.currentFrame&&11!=this.structure_right_center.currentFrame&&(this.structure_right_center.paused=!1),0!=this.structure_left.currentFrame&&11!=this.structure_left.currentFrame&&(this.structure_left.paused=!1),0!=this.structure_right.currentFrame&&11!=this.structure_right.currentFrame&&(this.structure_right.paused=!1),0!=this.catapult.currentFrame&&11!=this.catapult.currentFrame&&(this.catapult.paused=!1),0!=this.firework_low.currentFrame&&11!=this.firework_low.currentFrame&&(this.firework_low.paused=!1),0!=this.firework_hit.currentFrame&&11!=this.firework_hit.currentFrame&&(this.firework_hit.paused=!1),0!=this.firework_high.currentFrame&&11!=this.firework_high.currentFrame&&(this.firework_high.paused=!1))},visibleButton:function(e){e?(this.menu_button.visible=!1,this.pause_menu.visible=!0,this.close_button.visible=!0,this.main_menu_button.visible=!0,this.exit_level_button.visible=!0,this.settings_button.visible=!0,this.previous_indicator.visible=!0,this.pause_indicator.visible=!0,this.next_indicator.visible=!0,this.lute.visible=!0,this.hint_button.visible=!0):(this.menu_button.visible=!0,this.pause_menu.visible=!1,this.close_button.visible=!1,this.main_menu_button.visible=!1,this.exit_level_button.visible=!1,this.settings_button.visible=!1,this.previous_indicator.visible=!1,this.pause_indicator.visible=!1,this.next_indicator.visible=!1,this.lute.visible=!1,this.hint_button.visible=!1)},muteSound:function(){this.music.sound_off||(console.log(this.lute.src),this.music.muted?(this.stage.removeChild(this.lute),this.lute=new createImage("res/lute.png",this.luteX,this.luteY),this.lute.addEventListener("click",this.music.muteSound),this.scaleGUI()):(this.stage.removeChild(this.lute),this.lute=new createImage("res/antiLute.png",this.luteX,this.luteY),lute.addEventListener("click",this.music.muteSound),this.scaleGUI()),this.music.current_song.muted=!this.music.current_song.muted,this.music.muted=!this.music.muted)}}},q=G,V=(i("e30e"),Object(y["a"])(q,a,o,!1,null,null,null)),W=V.exports,J={name:"app",components:{Engine:W}},Q=J,K=(i("034f"),Object(y["a"])(Q,s,r,!1,null,null,null)),Z=K.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(Z)}}).$mount("#app")},"64a9":function(e,t,i){},be16:function(e,t,i){},e30e:function(e,t,i){"use strict";var n=i("be16"),s=i.n(n);s.a}});
//# sourceMappingURL=app.e1b5561b.js.map